<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7ZSXCJY4G9"></script><script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-7ZSXCJY4G9');
  </script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FlyWell.Flights ‚Äî Cheap Flight Deals, Error Fares & Airline Sales</title>
<meta name="description" content="FlyWell.Flights finds you the cheapest flights online. Browse daily cheap flight deals, error fares and airline sales from Europe and worldwide. Free, no signup required.">
<meta name="keywords" content="cheap flights, flight deals, error fares, mistake fares, cheap roundtrip flights, airline deals, cheap airline tickets">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://www.flywell.flights/">
<link rel="sitemap" type="application/xml" href="https://www.flywell.flights/sitemap.xml">
<meta property="og:type" content="website">
<meta property="og:title" content="FlyWell.Flights ‚Äî Cheap Flight Deals &amp; Error Fares">
<meta property="og:description" content="Find the cheapest flights online. Daily cheap flight deals, error fares and airline sales from Europe and worldwide. Free, no signup.">
<meta property="og:url" content="https://www.flywell.flights/">
<meta property="og:site_name" content="FlyWell.Flights">
<meta property="og:image" content="https://www.flywell.flights/images/og-image.jpg">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@flywellflights">
<meta name="twitter:title" content="FlyWell.Flights ‚Äî Cheap Flight Deals &amp; Error Fares">
<meta name="twitter:description" content="Find the cheapest flights online. Daily cheap flight deals, error fares and airline sales from Europe and worldwide. Free, no signup.">
<meta name="twitter:image" content="https://www.flywell.flights/images/og-image.jpg">
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,700;1,9..40,300&family=Playfair+Display:ital@1&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --black: #f8f5f0;
    --surface: #ffffff;
    --surface2: #f2ede6;
    --border: rgba(40,30,20,0.08);
    --border2: rgba(40,30,20,0.14);
    --text: #1c1612;
    --muted: rgba(28,22,18,0.45);
    --accent: #c47f2a;
    --accent2: #d94f1e;
    --green: #2d8a4e;
  }

  html { scroll-behavior: smooth; }

  body {
    background: var(--black);
    color: var(--text);
    font-family: 'DM Sans', sans-serif;
    font-size: 15px;
    line-height: 1.6;
    overflow-x: hidden;
  }

  /* ‚îÄ‚îÄ NOISE OVERLAY ‚îÄ‚îÄ */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 9999;
    opacity: 0.4;
  }

  /* ‚îÄ‚îÄ NAV ‚îÄ‚îÄ */
  nav {
    position: sticky;
    top: 0;
    z-index: 500;
    background: rgba(248,245,240,0.94);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--border);
    height: 60px;
    display: flex;
    align-items: center;
    padding: 0 2rem;
    gap: 2rem;
  }

  .logo {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.6rem;
    letter-spacing: 0.06em;
    color: var(--text);
    text-decoration: none;
    flex-shrink: 0;
  }
  .logo span { color: var(--accent); }

  .nav-links {
    margin-left: auto;
    display: flex;
    list-style: none;
    gap: 0;
    align-items: center;
  }
  .nav-links li { display: flex; align-items: center; height: 60px; }
  .nav-links a {
    color: var(--muted);
    text-decoration: none;
    font-size: 0.78rem;
    font-weight: 500;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    padding: 0 1.1rem;
    height: 60px;
    display: flex;
    align-items: center;
    transition: color 0.2s;
  }
  .nav-links a:hover { color: var(--text); }

  /* NAV SEARCH */
  .nav-search-wrap {
    display: flex;
    align-items: center;
    background: var(--surface2);
    border: none;
    border-radius: 100px;
    padding: 0 0.9rem;
    gap: 0.5rem;
    height: 34px;
    margin: 0 0.5rem;
  }
  .nav-search-wrap:focus-within {
    border: none;
    box-shadow: none;
  }
  .nav-search-icon { font-size: 0.8rem; opacity: 0.5; }
  .nav-search-input {
    border: none; background: transparent; outline: none; box-shadow: none; -webkit-appearance: none;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.78rem; color: var(--text);
    width: 140px; transition: width 0.3s;
  }
  .nav-search-input::placeholder { color: var(--muted); }
  .nav-search-input:focus { width: 190px; outline: none; border: none; box-shadow: none; }
  .nav-search-results {
    position: fixed;
    background: var(--surface2);
    border: 1px solid var(--border2);
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(40,30,20,0.15);
    min-width: 300px;
    max-height: 380px;
    overflow-y: auto;
    z-index: 9999;
    padding: 0.4rem;
  }
  .nav-result-item {
    display: flex; align-items: center; gap: 0.75rem;
    padding: 0.6rem 0.75rem; border-radius: 8px;
    cursor: pointer; color: var(--text); text-decoration: none;
    transition: background 0.15s;
  }
  .nav-result-item:hover { background: rgba(255,255,255,0.06); }
  .nav-result-thumb {
    width: 46px; height: 36px; border-radius: 6px;
    object-fit: cover; flex-shrink: 0; background: var(--surface);
  }
  .nav-result-info { flex: 1; min-width: 0; }
  .nav-result-route { font-size: 0.7rem; color: var(--muted); font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
  .nav-result-title { font-size: 0.8rem; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
  .nav-result-price { font-family: 'Bebas Neue'; font-size: 1rem; color: var(--accent); flex-shrink: 0; }
  .nav-result-empty { padding: 1rem; text-align: center; color: var(--muted); font-size: 0.8rem; }

  /* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
  .hero {
    position: relative;
    min-height: 580px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 5rem 2rem 4rem;
    overflow: hidden;
    text-align: center;
  }

  .hero-bg {
    position: absolute;
    inset: 0;
    background-color: var(--black);
  }

  .hero-grid {
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba(40,30,20,0.05) 1px, transparent 1px),
      linear-gradient(90deg, rgba(40,30,20,0.05) 1px, transparent 1px);
    background-size: 60px 60px;
    mask-image: radial-gradient(ellipse 80% 80% at 50% 50%, black 20%, transparent 80%);
  }

  .hero-eyebrow {
    font-size: 0.7rem;
    font-weight: 500;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--accent);
    margin-bottom: 1.2rem;
    position: relative;
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }
  .hero-eyebrow::before, .hero-eyebrow::after {
    content: '';
    display: inline-block;
    width: 32px;
    height: 1px;
    background: var(--accent);
    opacity: 0.5;
  }

  .hero h1 {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(4rem, 10vw, 8rem);
    line-height: 0.92;
    letter-spacing: 0.02em;
    color: var(--text);
    position: relative;
    margin-bottom: 0.3rem;
  }
  .hero h1 em {
    font-family: 'Playfair Display', serif;
    font-style: italic;
    color: var(--accent);
    display: block;
    font-size: clamp(3rem, 8vw, 6.5rem);
  }

  .hero-sub {
    font-size: 0.85rem;
    color: var(--muted);
    letter-spacing: 0.05em;
    margin-top: 1.4rem;
    margin-bottom: 2.5rem;
    position: relative;
  }

  /* ‚îÄ‚îÄ SEARCH BAR ‚îÄ‚îÄ */
  .search-bar {
    display: flex;
    align-items: stretch;
    background: var(--surface);
    border: none;
    outline: none;
    border-radius: 16px;
    overflow: hidden;
    width: 100%;
    max-width: 680px;
    position: relative;
    box-shadow: 0 8px 40px rgba(40,30,20,0.10);
  }

  .search-field {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 1rem 1.4rem;
    gap: 4px;
    outline: none;
  }
  .search-field label {
    font-size: 0.6rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--muted);
  }
  .search-field input {
    background: transparent;
    border: none;
    outline: none;
    -webkit-appearance: none;
    box-shadow: none;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--text);
    text-align: center;
    width: 100%;
  }
  .search-field input:focus { outline: none; border: none; box-shadow: none; }
  .search-field input::placeholder { color: var(--muted); }
  .search-divider { width: 0; background: transparent; align-self: stretch; margin: 12px 0; }
  .search-when-wrap { display: flex; align-items: center; gap: 0.75rem; flex: 1; padding-right: 0.75rem; }

  .search-btn {
    background: var(--accent);
    color: #fff;
    border: none;
    border-radius: 0;
    padding: 0 2rem;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.8rem;
    font-weight: 700;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    cursor: pointer;
    align-self: stretch;
    flex-shrink: 0;
    transition: background 0.2s;
  }
  .search-btn:hover { background: #a06820; }


  /* ‚îÄ‚îÄ DEAL DETAIL PAGE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  #deal-page { display: none; }
  .deal-detail-hero { position:relative; width:100%; height:420px; overflow:hidden; background:#1c1612; }
  .deal-detail-hero img { width:100%; height:100%; object-fit:cover; opacity:0.75; }
  .deal-detail-hero-overlay { position:absolute; inset:0; background:linear-gradient(to bottom,rgba(28,22,18,0.1) 0%,rgba(28,22,18,0.75) 100%); }
  .deal-detail-hero-content { position:absolute; bottom:0; left:0; right:0; padding:2rem 2.5rem; max-width:900px; margin:0 auto; }
  .deal-detail-back { display:inline-flex; align-items:center; gap:0.4rem; font-family:'DM Sans',sans-serif; font-size:0.75rem; font-weight:600; letter-spacing:0.08em; text-transform:uppercase; color:rgba(255,255,255,0.9); position:absolute; top:1.5rem; left:2.5rem; background:rgba(28,22,18,0.6); padding:0.4rem 0.9rem; border-radius:100px; backdrop-filter:blur(8px); cursor:pointer; border:1px solid rgba(255,255,255,0.15); -webkit-backdrop-filter:blur(8px); transition:all 0.2s; }
  .deal-detail-back:hover { background:rgba(28,22,18,0.75); color:#fff; }
  .deal-detail-badge-row { display:flex; align-items:center; gap:0.6rem; margin-bottom:0.6rem; }
  .deal-detail-badge { font-family:'DM Sans',sans-serif; font-size:0.65rem; font-weight:700; letter-spacing:0.1em; text-transform:uppercase; padding:0.25rem 0.7rem; border-radius:100px; background:rgba(255,255,255,0.15); color:#fff; backdrop-filter:blur(4px); }
  .deal-detail-badge.hot { background:var(--accent2); }
  .deal-detail-badge.business { background:#8b6914; color:#ffd700; }
  .deal-detail-posted { font-family:'DM Sans',sans-serif; font-size:0.72rem; color:rgba(255,255,255,0.5); }
  .dd-price-label {
    display: block;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.65rem;
    font-weight: 700;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: rgba(255,255,255,0.6);
    margin-bottom: 0.15rem;
  }
  .deal-detail-price-hero { font-family:'Bebas Neue',sans-serif; font-size:4rem; color:#fff; line-height:1; letter-spacing:0.04em; }
  .deal-detail-price-hero span { font-size:1.4rem; color:rgba(255,255,255,0.65); font-family:'DM Sans',sans-serif; font-weight:400; margin-left:0.3rem; }
  .deal-detail-route-hero { font-family:'DM Sans',sans-serif; font-size:1rem; color:rgba(255,255,255,0.8); margin-top:0.3rem; font-weight:500; }
  .deal-detail-body { max-width:900px; margin:0 auto; padding:2.5rem 2.5rem 4rem; display:grid; grid-template-columns:1fr 300px; gap:3rem; }
  @media(max-width:720px){.deal-detail-body{grid-template-columns:1fr;padding:1.5rem 1.2rem 3rem;gap:2rem;}.deal-detail-hero{height:280px;}.deal-detail-hero-content{padding:1.5rem 1.2rem;}.deal-detail-back{left:1.2rem;top:1rem;}.deal-detail-price-hero{font-size:3rem;}}
  .deal-detail-section { margin-bottom:2rem; }
  .deal-detail-label { font-family:'Bebas Neue',sans-serif; font-size:0.78rem; letter-spacing:0.2em; text-transform:uppercase; color:var(--accent); margin-bottom:0.5rem; }
  .deal-detail-cities { display:flex; flex-wrap:wrap; gap:0.4rem; }
  .deal-detail-city { font-family:'DM Sans',sans-serif; font-size:0.82rem; font-weight:600; color:var(--text); background:rgba(196,127,42,0.08); border:1px solid rgba(196,127,42,0.2); border-radius:8px; padding:0.3rem 0.75rem; }
  .deal-detail-info-text { font-family:'DM Sans',sans-serif; font-size:0.9rem; color:var(--text); line-height:1.7; }
  .deal-detail-dates-list { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:0.3rem; }
  .deal-detail-dates-list li a { font-family:'DM Sans',sans-serif; font-size:0.84rem; color:var(--accent); text-decoration:none; font-weight:500; display:inline-flex; align-items:center; gap:0.35rem; padding:0.25rem 0; border-bottom:1px solid transparent; transition:border-color 0.15s; }
  .deal-detail-dates-list li a:hover { border-color:var(--accent); }
  .deal-detail-dates-list li a::before { content:"‚Üó"; font-size:0.7rem; }
  .dd-date-group { margin-bottom: 1.1rem; }
  .dd-date-group-header {
    font-family: 'DM Sans', sans-serif; font-size: 0.84rem; font-weight: 700;
    color: var(--text); margin-bottom: 0.35rem; padding-bottom: 0.25rem;
    border-bottom: 1px solid rgba(196,127,42,0.2);
  }
  .dd-date-chips { display: flex; flex-wrap: wrap; gap: 0.35rem; margin-top: 0.4rem; }
  .dd-date-chips a {
    font-family: 'DM Sans', sans-serif; font-size: 0.78rem; font-weight: 500;
    color: var(--accent); text-decoration: none;
    padding: 0.2rem 0.6rem; border-radius: 6px;
    border: 1px solid rgba(196,127,42,0.25);
    background: rgba(196,127,42,0.05);
    transition: background 0.15s, border-color 0.15s;
  }
  .dd-date-chips a:hover { background: rgba(196,127,42,0.12); border-color: var(--accent); }

  .deal-detail-note { font-family:'DM Sans',sans-serif; font-size:0.74rem; color:rgba(28,22,18,0.45); margin-top:0.75rem; line-height:1.6; padding:0.75rem; background:rgba(196,127,42,0.05); border-left:2px solid rgba(196,127,42,0.3); border-radius:0 6px 6px 0; }
  .deal-detail-cta-box { background:var(--surface); border:1px solid rgba(40,30,20,0.1); border-radius:14px; padding:1.5rem; position:sticky; top:1.5rem; }
  .cta-from-label {
    display: block;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.6rem;
    font-weight: 700;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: rgba(28,22,18,0.45);
    margin-bottom: 0.1rem;
  }
  .deal-cta-price { font-family:'Bebas Neue',sans-serif; font-size:3rem; color:var(--text); line-height:1; letter-spacing:0.04em; }
  .deal-cta-price small { font-family:'DM Sans',sans-serif; font-size:0.75rem; color:rgba(28,22,18,0.45); font-weight:400; display:block; margin-top:0.2rem; }
  .deal-cta-route { font-family:'DM Sans',sans-serif; font-size:0.82rem; font-weight:600; color:rgba(28,22,18,0.6); margin:0.4rem 0 1.2rem; }
  .deal-cta-btn { display:block; width:100%; text-align:center; background:var(--accent); color:#fff; font-family:'Bebas Neue',sans-serif; font-size:1.1rem; letter-spacing:0.1em; text-decoration:none; padding:0.9rem 1rem; border-radius:10px; transition:background 0.2s; cursor:pointer; border:none; }
  .deal-cta-btn:hover { background:#a06820; }
  .deal-cta-meta { margin-top:1rem; display:flex; flex-direction:column; gap:0.5rem; }
  .deal-cta-meta-row { display:flex; justify-content:space-between; align-items:center; font-family:'DM Sans',sans-serif; font-size:0.74rem; color:rgba(28,22,18,0.5); padding-bottom:0.5rem; border-bottom:1px solid rgba(40,30,20,0.07); }
  .deal-cta-meta-row strong { color:var(--text); font-weight:600; }
  .deal-affiliate-note { margin-top:1rem; font-family:'DM Sans',sans-serif; font-size:0.68rem; color:rgba(28,22,18,0.35); line-height:1.5; text-align:center; }
  #dd-meta-dates { margin-left: 10px; }
  #dd-meta-dates br { display: block; margin-top: 2px; }

  /* Q&A ACCORDION */
  .qa-category {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 0.85rem;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: var(--accent);
    margin-bottom: 0.8rem;
  }
  .qa-item {
    border-bottom: 1px solid rgba(40,30,20,0.1);
    margin-bottom: 0;
  }
  .qa-question {
    width: 100%;
    background: none;
    border: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.1rem 0;
    cursor: pointer;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--text);
    text-align: left;
    gap: 1rem;
  }
  .qa-question:hover { color: var(--accent); }
  .qa-icon {
    font-size: 1.3rem;
    font-weight: 300;
    color: var(--accent);
    flex-shrink: 0;
    transition: transform 0.25s;
    line-height: 1;
  }
  .qa-icon.open { transform: rotate(45deg); }
  .qa-answer {
    display: none;
    padding: 0 0 1.1rem;
  }
  .qa-answer p {
    font-family: 'DM Sans', sans-serif;
    font-size: 0.875rem;
    color: rgba(28,22,18,0.65);
    line-height: 1.75;
  }
  .qa-answer p + p { margin-top: 0.6rem; }


  #month-picker {
    background: var(--surface2) !important;
    border: 1px solid var(--border2) !important;
    box-shadow: 0 20px 60px rgba(0,0,0,0.7) !important;
  }
  #picker-year { color: var(--text) !important; }

  /* ‚îÄ‚îÄ REGION PILLS ‚îÄ‚îÄ */
  .region-pills {
    display: flex;
    gap: 0.35rem;
    flex-wrap: nowrap;
    overflow-x: auto;
    padding: 1.2rem 2rem 0;
    max-width: 1200px;
    margin: 0 auto;
    scrollbar-width: none;
  }
  .region-pills::-webkit-scrollbar { display: none; }

  .pill {
    padding: 0.35rem 0.75rem;
    border-radius: 100px;
    border: 1px solid var(--border2);
    background: transparent;
    color: var(--muted);
    font-size: 0.67rem;
    font-weight: 600;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    text-decoration: none;
    transition: all 0.2s;
    cursor: pointer;
    white-space: nowrap;
    flex-shrink: 0;
  }
  .pill:hover { border-color: rgba(255,255,255,0.3); color: var(--text); }
  .pill.active {
    background: var(--accent);
    border-color: var(--accent);
    color: #fff;
  }

  /* ‚îÄ‚îÄ MAIN ‚îÄ‚îÄ */
  main { max-width: 1200px; margin: 0 auto; padding: 2rem 2rem 4rem; }

  .section-header {
    display: flex;
    align-items: baseline;
    gap: 1rem;
    margin-bottom: 1.5rem;
  }
  .section-header h2 {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.6rem;
    letter-spacing: 0.06em;
    color: var(--text);
  }
  .deal-count {
    font-size: 0.72rem;
    color: var(--muted);
    font-weight: 500;
    letter-spacing: 0.05em;
    text-transform: uppercase;
  }

  /* ‚îÄ‚îÄ DEAL GRID ‚îÄ‚îÄ */
  .deals-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 1px;
    background: var(--border);
    border: 1px solid var(--border);
    border-radius: 16px;
    overflow: hidden;
  }

  .deal-card {
    display: block;
    text-decoration: none;
    background: var(--surface);
    position: relative;
    overflow: hidden;
    transition: background 0.2s;
    animation: fadeUp 0.5s ease both;
  }
  .deal-card:hover { background: var(--surface2); }
  .deal-card:hover .card-img { transform: scale(1.04); }
  .deal-card:hover .card-arrow { opacity: 1; transform: translateX(0); }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .deal-card:nth-child(1) { animation-delay: 0.04s; }
  .deal-card:nth-child(2) { animation-delay: 0.08s; }
  .deal-card:nth-child(3) { animation-delay: 0.12s; }
  .deal-card:nth-child(4) { animation-delay: 0.16s; }
  .deal-card:nth-child(5) { animation-delay: 0.20s; }
  .deal-card:nth-child(6) { animation-delay: 0.24s; }
  .deal-card:nth-child(7) { animation-delay: 0.28s; }
  .deal-card:nth-child(8) { animation-delay: 0.32s; }
  .deal-card:nth-child(9) { animation-delay: 0.36s; }

  .card-img-wrap {
    position: relative;
    height: 180px;
    overflow: hidden;
  }
  .card-img {
    width: 100%; height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
    filter: brightness(0.88) saturate(1.0);
  }
  .img-placeholder {
    width: 100%; height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.5rem;
    background: var(--surface2);
  }
  .card-img-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(10,5,0,0.75) 0%, rgba(10,5,0,0.1) 55%, transparent 100%);
  }

  .card-badge {
    position: absolute;
    top: 12px;
    left: 12px;
    font-size: 0.62rem;
    font-weight: 700;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    padding: 0.3rem 0.7rem;
    border-radius: 100px;
    background: var(--surface2);
    color: var(--muted);
    border: 1px solid var(--border2);
  }
  .card-badge.hot { background: var(--accent2); color: #fff; border-color: transparent; }
  .card-badge.business { background: #8b6914; color: #ffd700; border-color: transparent; }

  .card-price-tag::before {
    content: 'from only';
    display: block;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.55rem;
    font-weight: 600;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: rgba(255,255,255,0.7);
    line-height: 1;
    margin-bottom: 0.1rem;
  }
  .card-price-tag {
    position: absolute;
    bottom: 12px;
    right: 12px;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.8rem;
    color: #fff;
    line-height: 1;
    letter-spacing: 0.04em;
    text-shadow: 0 1px 6px rgba(0,0,0,0.5);
  }
  .card-price-tag small {
    display: block;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.58rem;
    font-weight: 600;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: rgba(255,255,255,0.75);
    text-align: right;
  }

  .card-body { padding: 1rem 1.2rem 1.1rem; }

  .card-route {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    font-size: 0.7rem;
    font-weight: 600;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: 0.4rem;
  }
  .card-route .arrow { color: var(--accent); font-size: 0.75rem; }

  .card-title {
    font-size: 0.88rem;
    font-weight: 500;
    color: var(--text);
    line-height: 1.4;
    margin-bottom: 0.75rem;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .card-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.68rem;
    color: var(--muted);
    font-weight: 500;
    border-top: 1px solid var(--border);
    padding-top: 0.65rem;
    margin-top: 0.65rem;
  }
  .card-airline { display: flex; align-items: center; gap: 0.4rem; }
  .airline-dot { width: 5px; height: 5px; border-radius: 50%; background: var(--accent); }

  .card-arrow {
    position: absolute;
    top: 12px;
    right: 12px;
    width: 30px; height: 30px;
    background: rgba(196,127,42,0.12);
    border: 1px solid rgba(196,127,42,0.25);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    color: var(--accent);
    opacity: 0;
    transform: translateX(-4px);
    transition: opacity 0.2s, transform 0.2s;
  }

  /* ‚îÄ‚îÄ LOAD MORE ‚îÄ‚îÄ */
  .load-more-wrap { text-align: center; margin-top: 2rem; }
  .load-more {
    background: transparent;
    border: 1px solid var(--border2);
    color: var(--muted);
    font-family: 'DM Sans', sans-serif;
    font-size: 0.78rem;
    font-weight: 600;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    padding: 0.75rem 2.5rem;
    border-radius: 100px;
    cursor: pointer;
    transition: all 0.2s;
  }
  .load-more:hover { border-color: var(--accent); color: var(--accent); background: rgba(196,127,42,0.05); }

  /* ‚îÄ‚îÄ FILTER CHIPS ‚îÄ‚îÄ */
  .filter-chips { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 1.5rem; }
  .filter-chip {
    font-size: 0.7rem; font-weight: 600; padding: 0.3rem 0.85rem;
    border-radius: 100px; border: 1px solid var(--border2);
    background: transparent; color: var(--muted); cursor: pointer;
    transition: all 0.15s; letter-spacing: 0.05em;
  }
  .filter-chip:hover { border-color: rgba(255,255,255,0.3); color: var(--text); }
  .filter-chip.on { background: var(--accent); border-color: var(--accent); color: #fff; }
  .filter-chip.error.on { background: var(--accent2); border-color: var(--accent2); color: #fff; }

  /* ‚îÄ‚îÄ BLOG ‚îÄ‚îÄ */
  .blog-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem; padding: 2.5rem 2rem 3rem; max-width: 1200px; margin: 0 auto; }
  @media (max-width: 900px) { .blog-grid { grid-template-columns: repeat(2,1fr); } }
  @media (max-width: 580px) { .blog-grid { grid-template-columns: 1fr; } }
  .blog-card { background: var(--surface); border: 1px solid var(--border); border-radius: 16px; overflow: hidden; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; }
  .blog-card:hover { transform: translateY(-4px); box-shadow: 0 8px 28px rgba(0,0,0,0.09); }
  .blog-card-img { width: 100%; height: 190px; object-fit: cover; display: block; }
  .blog-card-body { padding: 1.1rem 1.2rem 1.3rem; }
  .blog-card-cat { font-size: 0.68rem; font-weight: 700; letter-spacing: 0.08em; text-transform: uppercase; color: var(--accent); margin-bottom: 0.4rem; }
  .blog-card-title { font-family: 'Bebas Neue', sans-serif; font-size: 1.25rem; line-height: 1.2; color: var(--text); margin-bottom: 0.5rem; }
  .blog-card-excerpt { font-size: 0.82rem; color: var(--muted); line-height: 1.65; margin-bottom: 0.8rem; }
  .blog-card-meta { font-size: 0.72rem; color: rgba(28,22,18,0.4); display: flex; gap: 0.8rem; }
  .blog-post-nav { padding: 1.2rem 1.5rem 0; }
  .blog-post-hero-back { background: none; border: 1px solid var(--border); border-radius: 8px; padding: 0.4rem 1rem; font-family: 'DM Sans',sans-serif; font-size: 0.82rem; font-weight: 600; cursor: pointer; color: var(--text); transition: background 0.15s; }
  .blog-post-hero-back:hover { background: var(--border); }
  .blog-post-figure { margin: 1.8rem 0; border-radius: 14px; overflow: hidden; }
  .blog-post-figure img { width: 100%; height: 340px; object-fit: cover; display: block; }
  .blog-post-figure figcaption { font-size: 0.75rem; color: rgba(28,22,18,0.45); padding: 0.5rem 0.8rem; font-style: italic; }
  .blog-post-figure-pair { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin: 1.8rem 0; }
  .blog-post-figure-pair .blog-post-figure { margin: 0; }
  .blog-post-figure-pair .blog-post-figure img { height: 220px; }
  @media(max-width:600px) { .blog-post-figure-pair { grid-template-columns: 1fr; } }
  .blog-post-content { max-width: 760px; margin: 0 auto; padding: 2.5rem 1.5rem 4rem; }
  .blog-post-cat { font-size: 0.68rem; font-weight: 700; letter-spacing: 0.08em; text-transform: uppercase; color: var(--accent); margin-bottom: 0.6rem; }
  .blog-post-title { font-family: 'Bebas Neue', sans-serif; font-size: 2.8rem; line-height: 1.1; color: var(--text); margin-bottom: 0.6rem; }
  .blog-post-meta { font-size: 0.78rem; color: var(--muted); margin-bottom: 2rem; padding-bottom: 1.2rem; border-bottom: 1px solid var(--border); }
  .blog-post-body { font-size: 0.95rem; line-height: 1.85; color: var(--text); }
  .blog-post-body h2 { font-family: 'Bebas Neue', sans-serif; font-size: 1.7rem; color: var(--text); margin: 2rem 0 0.6rem; }
  .blog-post-body h3 { font-family: 'Bebas Neue', sans-serif; font-size: 1.3rem; color: var(--text); margin: 1.5rem 0 0.4rem; }
  .blog-post-body p { margin-bottom: 1.1rem; }
  .blog-post-body ul { padding-left: 1.4rem; margin-bottom: 1.1rem; }
  .blog-post-body ul li { margin-bottom: 0.4rem; }
  .blog-post-body a { color: var(--accent); text-decoration: none; }
  .blog-post-body a:hover { text-decoration: underline; }
  .blog-post-cta { background: var(--surface2); border: 1px solid var(--border); border-radius: 14px; padding: 1.5rem; margin: 2rem 0; text-align: center; }
  .blog-post-cta p { font-size: 0.88rem; color: var(--muted); margin-bottom: 0.8rem; }
  .blog-post-cta a { display: inline-block; background: var(--accent); color: #fff; padding: 0.6rem 1.6rem; border-radius: 8px; font-weight: 700; font-size: 0.88rem; text-decoration: none; }

  /* ‚îÄ‚îÄ PAGES ‚îÄ‚îÄ */
  #contact-page, #terms-page, #privacy-page, #about-page, #qa-page, #deal-page, #blog-page, #blogpost-page { display: none; }

  .page-hero {
    padding: 4rem 2rem 3rem;
    text-align: center;
    border-bottom: 1px solid var(--border);
    position: relative;
    overflow: hidden;
  }
  .page-hero::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse 60% 80% at 50% 0%, rgba(196,127,42,0.06) 0%, transparent 60%);
  }
  .page-eyebrow {
    font-size: 0.65rem; font-weight: 600; letter-spacing: 0.2em;
    text-transform: uppercase; color: var(--accent); margin-bottom: 0.8rem;
  }
  .page-hero h1 {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(2.5rem, 6vw, 4.5rem);
    letter-spacing: 0.04em;
    line-height: 1;
    position: relative;
  }
  .page-hero h1 em {
    font-family: 'Playfair Display', serif;
    font-style: italic;
    color: var(--accent);
  }

  .page-content { max-width: 780px; margin: 0 auto; padding: 3rem 2rem 5rem; }

  /* CONTACT */
  .contact-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; align-items: start; }
  @media (max-width: 680px) { .contact-grid { grid-template-columns: 1fr; } }

  .contact-intro p { color: var(--muted); font-size: 0.9rem; line-height: 1.8; margin-bottom: 1rem; }
  .contact-info-item {
    display: flex; align-items: center; gap: 0.75rem;
    margin-bottom: 0.9rem; font-size: 0.85rem; color: var(--text); font-weight: 500;
  }
  .contact-info-icon {
    width: 34px; height: 34px;
    background: rgba(196,127,42,0.08);
    border: 1px solid rgba(196,127,42,0.18);
    border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    font-size: 0.9rem; flex-shrink: 0;
  }

  .contact-form-box {
    background: var(--surface);
    border: 1px solid var(--border2);
    border-radius: 16px;
    padding: 1.8rem;
  }
  .contact-form-box h3 {
    font-family: 'Bebas Neue'; font-size: 1.2rem;
    letter-spacing: 0.06em; color: var(--text); margin-bottom: 1.3rem;
  }
  .form-group { margin-bottom: 0.9rem; }
  .form-group label {
    display: block; font-size: 0.65rem; font-weight: 700;
    text-transform: uppercase; letter-spacing: 0.12em;
    color: var(--muted); margin-bottom: 0.35rem;
  }
  .form-group input, .form-group select, .form-group textarea {
    width: 100%; border: 1px solid var(--border2); border-radius: 8px;
    padding: 0.65rem 0.9rem; font-family: 'DM Sans', sans-serif;
    font-size: 0.85rem; color: var(--text); background: var(--surface2);
    outline: none; transition: border-color 0.2s, box-shadow 0.2s; resize: none;
  }
  .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
    border-color: var(--accent); box-shadow: 0 0 0 3px rgba(232,197,71,0.1);
  }
  .form-group select option { background: var(--surface2); }
  .form-group textarea { height: 110px; }
  .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem; }

  .submit-btn {
    width: 100%; background: var(--accent); color: #fff;
    border: none; border-radius: 8px; padding: 0.85rem;
    font-family: 'DM Sans'; font-size: 0.8rem; font-weight: 700;
    letter-spacing: 0.08em; text-transform: uppercase; cursor: pointer;
    transition: all 0.2s; margin-top: 0.5rem;
  }
  .submit-btn:hover { background: #a06820; }
  .form-success { display: none; text-align: center; padding: 2rem 1rem; }
  .form-success .success-icon { font-size: 2.5rem; margin-bottom: 0.75rem; }
  .form-success h4 { font-family: 'Bebas Neue'; font-size: 1.4rem; letter-spacing: 0.06em; margin-bottom: 0.4rem; }
  .form-success p { color: var(--muted); font-size: 0.85rem; }

  /* TERMS / PRIVACY */
  .legal-section { margin-bottom: 2rem; }
  .legal-section h3 {
    font-family: 'Bebas Neue'; font-size: 1rem; letter-spacing: 0.08em;
    color: var(--accent); margin-bottom: 0.5rem; text-transform: uppercase;
  }
  .legal-section p, .legal-section li {
    color: var(--muted); font-size: 0.88rem; line-height: 1.8;
  }
  .legal-section ul { padding-left: 1.3rem; margin-top: 0.4rem; }
  .legal-section li { margin-bottom: 0.3rem; }
  .legal-section strong { color: var(--text); }
  .legal-intro { color: var(--muted); font-size: 0.88rem; line-height: 1.8; margin-bottom: 2.5rem; }
  .legal-date { font-size: 0.78rem; color: var(--muted); margin-bottom: 0.5rem; }

  /* ABOUT */
  .about-quote {
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-size: 1.5rem;
    color: var(--accent);
    line-height: 1.5;
    margin-bottom: 2rem;
    padding: 1.5rem 0;
    border-top: 1px solid var(--border);
    border-bottom: 1px solid var(--border);
    text-align: center;
  }
  .about-text { color: var(--muted); font-size: 0.92rem; line-height: 1.9; margin-bottom: 1.2rem; }
  .about-cta {
    display: inline-flex; align-items: center; gap: 1rem;
    background: var(--surface); border: 1px solid var(--border2);
    border-radius: 12px; padding: 1.2rem 1.6rem; margin-top: 1rem;
  }
  .about-cta-text p:first-child { font-size: 0.85rem; font-weight: 600; color: var(--text); margin-bottom: 0.15rem; }
  .about-cta-text p:last-child { font-size: 0.78rem; color: var(--muted); }
  .about-cta-text a { color: var(--accent); text-decoration: none; }

  /* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
  footer {
    border-top: 1px solid var(--border);
    padding: 2.5rem 2rem;
    text-align: center;
  }
  .footer-logo {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.4rem;
    letter-spacing: 0.06em;
    margin-bottom: 0.5rem;
    color: var(--text);
  }
  .footer-logo span { color: var(--accent); }
  footer p { font-size: 0.78rem; color: var(--muted); line-height: 1.7; }
  footer a { color: var(--muted); text-decoration: none; transition: color 0.2s; }
  footer a:hover { color: var(--accent); }
  .footer-links { display: flex; justify-content: center; gap: 0.3rem; flex-wrap: wrap; margin: 0.75rem 0; }
  .footer-links a { padding: 0.1rem 0.5rem; }
  .footer-sep { color: var(--border2); }

  /* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ */
  @media (max-width: 600px) {
    nav { padding: 0 1rem; gap: 0.5rem; }
    /* FIX #5: Show a compact search on mobile instead of hiding all nav-links */
    .nav-links { display: none; }
    .mobile-search-bar {
      display: flex;
      align-items: center;
      background: var(--surface2);
      border-radius: 100px;
      padding: 0 0.9rem;
      gap: 0.5rem;
      height: 34px;
      margin-left: auto;
    }
    .mobile-search-bar input {
      border: none; background: transparent; outline: none;
      font-family: 'DM Sans', sans-serif;
      font-size: 0.78rem; color: var(--text); width: 120px;
    }
    .mobile-search-bar input::placeholder { color: var(--muted); }
    .hero { padding: 3.5rem 1.5rem 3rem; }
    main { padding: 1.5rem 1rem 3rem; }
    .region-pills { padding: 1.5rem 1rem 0; }
    .search-bar { flex-direction: column; border-radius: 12px; }
    .search-divider { width: auto; height: 1px; margin: 0 12px; }
    .search-when-wrap { padding: 0 0 0.5rem; justify-content: center; }
    .deals-grid { grid-template-columns: 1fr; }
  }
  @media (min-width: 601px) {
    .mobile-search-bar { display: none; }
  }

  /* ‚îÄ‚îÄ FOCUS STATES (Accessibility) ‚îÄ‚îÄ */
  a:focus-visible, button:focus-visible, input:focus-visible, select:focus-visible, textarea:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
  }
</style>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "FlyWell.Flights",
    "url": "https://www.flywell.flights/",
    "description": "Daily cheap flight deals, error fares and airline sales from Europe and worldwide. Free, no signup required.",
    "potentialAction": {
      "@type": "SearchAction",
      "target": {
        "@type": "EntryPoint",
        "urlTemplate": "https://www.flywell.flights/?q={search_term_string}"
      },
      "query-input": "required name=search_term_string"
    }
  }
  </script>
</head>
<script src="data.js"></script>
<body>

<!-- NAV -->
<nav>
  <a href="#" class="logo" onclick="showPage('main');return false;">Fly<span>Well</span>.Flights</a>
  <ul class="nav-links">
    <li><a href="#" onclick="showPage('main');return false;">Flight Deals</a></li>
    <li style="position:relative;">
      <div class="nav-search-wrap">
        <span class="nav-search-icon">üîç</span>
        <input type="text" id="nav-search-input" class="nav-search-input" placeholder="Search destinations‚Ä¶" autocomplete="off" oninput="navSearch(this.value)" onkeydown="if(event.key==='Enter'){navSearchGo()}" />
        <div id="nav-search-results" class="nav-search-results" style="display:none;"></div>
      </div>
    </li>
    <li><a href="#" onclick="showPage('blog');return false;">Blog</a></li>
    <li><a href="#" onclick="showPage('qa');return false;">Q&amp;A</a></li>
    <li><a href="#" onclick="showPage('contact');return false;">Contact</a></li>
  </ul>
  <!-- FIX #5: Mobile search fallback -->
  <div class="mobile-search-bar">
    <span style="font-size:0.8rem;opacity:0.5;">üîç</span>
    <input type="text" id="mobile-search-input" placeholder="Search destinations‚Ä¶" autocomplete="off"
      oninput="navSearch(this.value)" onkeydown="if(event.key==='Enter'){navSearchGoMobile()}" />
  </div>
</nav>

<!-- MAIN PAGE -->
<div id="main-page">

<!-- HERO -->
<div class="hero">
  <div class="hero-bg"></div>
  <div class="hero-grid"></div>

  <p class="hero-eyebrow">Global Flight Deals</p>
  <h1>Cheap fares.<br><em>Real savings.</em></h1>
  <p class="hero-sub">No signup required &nbsp;¬∑&nbsp; Completely free &nbsp;¬∑&nbsp; Updated daily</p>

  <div class="search-bar">
    <div class="search-field" style="position:relative;">
      <label>From</label>
      <input type="text" id="search-from" placeholder="Anywhere" autocomplete="off" />
    </div>
    <div class="search-divider"></div>
    <div class="search-field" style="position:relative;">
      <label>To</label>
      <input type="text" id="search-to" placeholder="Anywhere" autocomplete="off" />
    </div>
    <div class="search-divider"></div>
    <div class="search-field" style="flex:1;cursor:pointer;" onclick="toggleMonthPicker(event)">
      <label style="cursor:pointer;">When</label>
      <input type="text" id="search-when" placeholder="Any month" readonly style="cursor:pointer;" onclick="toggleMonthPicker(event)" />
    </div>
    <button class="search-btn" onclick="runSearch()">Search</button>
  </div>
</div>

<!-- REGION PILLS -->
<div class="region-pills">
  <a href="#" class="pill active" onclick="filterByRegion(this,'all');return false;">üåç All</a>
  <a href="#" class="pill" onclick="filterByRegion(this,'namerica');return false;">üåè USA/Canada</a>
  <a href="#" class="pill" onclick="filterByRegion(this,'camerica');return false;">üåè C. America &amp; Carib.</a>
  <a href="#" class="pill" onclick="filterByRegion(this,'samerica');return false;">üåé S. America</a>
  <a href="#" class="pill" onclick="filterByRegion(this,'europe');return false;">üåè Europe</a>
  <a href="#" class="pill" onclick="filterByRegion(this,'mena');return false;">üåè MENA</a>
  <a href="#" class="pill" onclick="filterByRegion(this,'africa');return false;">üåç Africa</a>
  <a href="#" class="pill" onclick="filterByRegion(this,'scasia');return false;">üåè S. &amp; C. Asia</a>
  <a href="#" class="pill" onclick="filterByRegion(this,'easia');return false;">üåè E. Asia</a>
  <a href="#" class="pill" onclick="filterByRegion(this,'oceania');return false;">üåè Australia/Oceania</a>
</div>

<!-- MAIN -->
<main>
  <div class="section-header">
    <h2>Latest Deals</h2>
    <span class="deal-count">Updated Feb 2026</span>
    <span style="font-size:0.68rem;color:rgba(28,22,18,0.45);font-style:italic;">Some links may be affiliate links ‚Äî <a href="#" onclick="showPage('terms');return false;" style="color:var(--accent);text-decoration:none;">learn more</a></span>
  </div>

  <div class="deals-grid" id="deals-grid"></div>

  <div class="load-more-wrap">
    <button class="load-more" onclick="loadMore()">Load more deals ‚Üì</button>
  </div>
</main>

</div><!-- end #main-page -->


<!-- DEAL DETAIL PAGE -->
<div id="deal-page">
  <div class="deal-detail-hero">
    <!-- FIX #14: data-fb1 is set BEFORE src in openDeal() to avoid race condition -->
    <img id="dd-img" src="" alt="" onerror="if(typeof ddImgFallback==='function')ddImgFallback(this)">
    <div class="deal-detail-hero-overlay"></div>
    <button class="deal-detail-back" onclick="showPage('main');return false;">‚Üê Back to deals</button>
    <div class="deal-detail-hero-content">
      <div class="deal-detail-badge-row">
        <span id="dd-badge" class="deal-detail-badge"></span>
        <span id="dd-posted" class="deal-detail-posted"></span>
      </div>
      <div id="dd-price" class="deal-detail-price-hero"></div>
      <div id="dd-route-hero" class="deal-detail-route-hero"></div>
    </div>
  </div>

  <div class="deal-detail-body">
    <div class="deal-detail-main">
      <h2 id="dd-title" style="font-family:'Bebas Neue',sans-serif;font-size:1.8rem;letter-spacing:0.05em;color:var(--text);line-height:1.2;margin-bottom:0.5rem;"></h2>
      <p id="dd-desc" style="font-family:'DM Sans',sans-serif;font-size:0.88rem;color:rgba(28,22,18,0.6);line-height:1.7;margin-bottom:2rem;"></p>

      <div class="deal-detail-section">
        <div class="deal-detail-label">Departing from</div>
        <div id="dd-from" class="deal-detail-cities"></div>
      </div>
      <div class="deal-detail-section">
        <div class="deal-detail-label">Arriving in</div>
        <div id="dd-to" class="deal-detail-cities"></div>
      </div>
      <div class="deal-detail-section">
        <div class="deal-detail-label">Travel dates</div>
        <div class="deal-detail-info-text"><strong id="dd-dates"></strong></div>
      </div>
      <div class="deal-detail-section">
        <div class="deal-detail-label">Airline</div>
        <div class="deal-detail-info-text" id="dd-airline"></div>
      </div>
      <div class="deal-detail-section">
        <div class="deal-detail-label">Stops</div>
        <div class="deal-detail-info-text" id="dd-stops"></div>
      </div>
      <div class="deal-detail-section">
        <div class="deal-detail-label">Cabin class</div>
        <div class="deal-detail-info-text" id="dd-cabin"></div>
      </div>
      <div class="deal-detail-section">
        <div class="deal-detail-label">Example dates</div>
        <ul id="dd-example-dates" class="deal-detail-dates-list"></ul>
        <p class="deal-detail-note">‚ö° Prices change fast. Click a date to check live availability on Skyscanner. Try ¬±2 days for more options.</p>
      </div>
    </div>

    <div class="deal-detail-sidebar">
      <div class="deal-detail-cta-box">
        <div id="dd-cta-price" class="deal-cta-price"></div>
        <div id="dd-cta-route" class="deal-cta-route"></div>
        <a id="dd-cta-btn" href="#" target="_blank" rel="noopener" class="deal-cta-btn">Search this deal ‚Üó</a>
        <div class="deal-cta-meta">
          <div class="deal-cta-meta-row"><span>Airline</span><strong id="dd-meta-airline"></strong></div>
          <div class="deal-cta-meta-row"><span>Cabin</span><strong id="dd-meta-cabin"></strong></div>
          <div class="deal-cta-meta-row"><span>Stops</span><strong id="dd-meta-stops"></strong></div>
          <div class="deal-cta-meta-row" style="border:none;padding:0;"><span>Available</span><strong id="dd-meta-dates"></strong></div>
        </div>
        <p class="deal-affiliate-note">Some links are affiliate links. We may earn a small commission at no cost to you.</p>
      </div>
    </div>
  </div>
</div>

<!-- Q&A PAGE -->
<div id="qa-page">
  <div class="page-hero">
    <p class="page-eyebrow">Frequently Asked Questions</p>
    <h1>How to find <em>cheap flights</em> ‚Äî answered.</h1>
  </div>
  <div class="page-content" style="max-width:720px;">

    <p style="font-family:'DM Sans',sans-serif;font-size:0.92rem;color:rgba(28,22,18,0.6);line-height:1.8;margin-bottom:2rem;">Everything you need to know about finding the cheapest flights online, how error fares and mistake fares work, and how FlyWell.Flights helps you travel more for less ‚Äî completely free.</p>

    <div class="qa-category">Cheap Flights & Deals</div>

    <div class="qa-item">
      <button class="qa-question" onclick="toggleQA(this)">
        <span>How do you find the cheapest flight deals?</span><span class="qa-icon">+</span>
      </button>
      <div class="qa-answer">
        <p>Our team scans hundreds of airlines, online travel agencies, and fare aggregators ‚Äî including Skyscanner, Google Flights, Kayak, and direct airline websites ‚Äî every single day. We hunt for mistake fares, flash sales, seat sales, and genuine cheap flight deals across thousands of routes worldwide. When a price drops 40‚Äì70% below the typical fare, we publish it immediately. The best cheap roundtrip flights disappear fast ‚Äî sometimes within hours ‚Äî so we move quickly so you don't miss out.</p>
      </div>
    </div>

    <div class="qa-item">
      <button class="qa-question" onclick="toggleQA(this)">
        <span>What is a mistake fare or error fare?</span><span class="qa-icon">+</span>
      </button>
      <div class="qa-answer">
        <p>A mistake fare (also called an error fare or glitch fare) is a flight price published in error ‚Äî usually caused by a currency conversion bug, a missing fuel surcharge, or a data entry mistake by the airline or booking system. These are the most extreme cheap flights you'll ever find ‚Äî sometimes 80‚Äì90% off the normal roundtrip price. Many airlines do honour them, especially if you book quickly and receive a booking confirmation. We label error fares clearly so you always know the risk before you click.</p>
      </div>
    </div>

    <div class="qa-item">
      <button class="qa-question" onclick="toggleQA(this)">
        <span>Are the cheap flight prices shown guaranteed?</span><span class="qa-icon">+</span>
      </button>
      <div class="qa-answer">
        <p>No ‚Äî and we'll always be honest about that. Airline ticket prices are set and controlled entirely by airlines and third-party booking platforms. They can change or sell out at any moment. We post deals the instant we find them, but by the time you click through, the cheap fare may have been snapped up. Always verify the final price on the booking platform before confirming any purchase.</p>
      </div>
    </div>

    <div class="qa-item">
      <button class="qa-question" onclick="toggleQA(this)">
        <span>What is the cheapest day and time to book flights?</span><span class="qa-icon">+</span>
      </button>
      <div class="qa-answer">
        <p>There's no single magic answer, but research consistently shows a few patterns: <strong>Tuesdays and Wednesdays</strong> tend to have lower fares on many routes as airlines adjust pricing after weekend demand. Booking <strong>6‚Äì8 weeks in advance</strong> often hits the sweet spot for short-haul European flights, while <strong>3‚Äì6 months ahead</strong> works better for long-haul routes to Asia, the Americas, or Australia. Flying mid-week (Tuesday‚ÄìThursday) is almost always cheaper than Friday or Sunday. The single best tip: set up fare alerts on Skyscanner for your route and let the algorithm do the work.</p>
      </div>
    </div>

    <div class="qa-item">
      <button class="qa-question" onclick="toggleQA(this)">
        <span>Do you sell flights or process bookings?</span><span class="qa-icon">+</span>
      </button>
      <div class="qa-answer">
        <p>No. FlyWell.Flights is a free flight deal discovery and information service. We don't sell airline tickets, process bookings, or operate as a travel agency. Every deal on this site links directly to the airline or a trusted booking platform like Skyscanner, where your transaction takes place entirely with them. We have no involvement in the booking or payment process.</p>
      </div>
    </div>

    <div class="qa-category" style="margin-top:2rem;">Using FlyWell.Flights</div>

    <div class="qa-item">
      <button class="qa-question" onclick="toggleQA(this)">
        <span>Is FlyWell.Flights free? Do I need to create an account?</span><span class="qa-icon">+</span>
      </button>
      <div class="qa-answer">
        <p>Completely free ‚Äî no account, no subscription, no hidden fees. Browse every cheap flight deal, click through to book, and pay nothing to us. We may introduce an optional premium membership in the future for early access to exclusive deals and personalised fare alerts, but the core flight deals service will always be 100% free to use.</p>
      </div>
    </div>

    <div class="qa-item">
      <button class="qa-question" onclick="toggleQA(this)">
        <span>How does the flight search work?</span><span class="qa-icon">+</span>
      </button>
      <div class="qa-answer">
        <p>Use the <strong>From</strong> field to type your departure city or country, <strong>To</strong> for your destination, and <strong>When</strong> to select a travel month. Any combination works ‚Äî leave fields blank to browse all current cheap flights. Deals filter instantly as you type. The region filter pills (Europe, USA, Asia, etc.) let you narrow results by destination region in one click.</p>
      </div>
    </div>

    <div class="qa-item">
      <button class="qa-question" onclick="toggleQA(this)">
        <span>How often are the cheap flight deals updated?</span><span class="qa-icon">+</span>
      </button>
      <div class="qa-answer">
        <p>We update the deals grid daily ‚Äî and multiple times a day when we find something exceptional. The freshest cheap flight deals appear at the top. Check back regularly: the best deals on business class flights, error fares, and deeply discounted economy tickets tend to last only hours before airlines correct or remove them.</p>
      </div>
    </div>

    <div class="qa-category" style="margin-top:2rem;">Booking & Travel Tips</div>

    <div class="qa-item">
      <button class="qa-question" onclick="toggleQA(this)">
        <span>What should I check before booking a cheap flight?</span><span class="qa-icon">+</span>
      </button>
      <div class="qa-answer">
        <p>Before confirming any cheap airline ticket, always check: <strong>baggage allowance</strong> (many budget fares are carry-on only and add checked luggage fees that can double the price), <strong>fare flexibility</strong> (cheap fares are usually non-refundable and non-changeable), <strong>connection times</strong> on multi-stop flights, <strong>visa requirements</strong> for your destination and any transit countries, and <strong>travel insurance</strong> ‚Äî especially for non-refundable bookings. Reading the full fare conditions takes two minutes and can save you hundreds.</p>
      </div>
    </div>

    <div class="qa-item">
      <button class="qa-question" onclick="toggleQA(this)">
        <span>The deal has expired ‚Äî what can I do?</span><span class="qa-icon">+</span>
      </button>
      <div class="qa-answer">
        <p>Cheap flights move fast and some expire within hours of posting. If the price has gone up, try: <strong>flexible dates</strong> on the same route (¬±2‚Äì3 days often recovers the low fare), <strong>nearby airports</strong> (e.g. Brussels instead of Amsterdam), or <strong>setting a Skyscanner price alert</strong> for the route so you're notified automatically when prices drop again. You can also <a href="#" onclick="showPage('contact');return false;" style="color:var(--accent);text-decoration:none;">contact us</a> and we'll check whether the deal is still available on alternate dates.</p>
      </div>
    </div>

    <div class="qa-item">
      <button class="qa-question" onclick="toggleQA(this)">
        <span>Why are some flights cheaper from certain countries?</span><span class="qa-icon">+</span>
      </button>
      <div class="qa-answer">
        <p>Airlines use dynamic pricing algorithms that vary by market ‚Äî meaning the exact same seat can have a different price depending on which country's version of a booking site you use. This is sometimes called a <strong>hidden city fare</strong> or <strong>point-of-sale pricing</strong>. We source many deals via Skyscanner's Swedish market, which consistently surfaces some of the lowest EUR-denominated fares in Europe due to high competition and algorithm differences. Searching in EUR from a Swedish market setting is one of the most reliable ways to find cheap roundtrip international flights.</p>
      </div>
    </div>

    <div class="qa-item">
      <button class="qa-question" onclick="toggleQA(this)">
        <span>Do you earn commission? Are links paid?</span><span class="qa-icon">+</span>
      </button>
      <div class="qa-answer">
        <p>Some links on FlyWell.Flights are affiliate links ‚Äî meaning we may earn a small referral commission if you book through them, at absolutely no extra cost to you. Affiliate revenue is how we keep the flight deal service free. It never influences which cheap flights we feature, how we rank them, or how we describe them. We only post deals we'd genuinely book ourselves. Full transparency is in our <a href="#" onclick="showPage('terms');return false;" style="color:var(--accent);text-decoration:none;">Terms of Service</a>.</p>
      </div>
    </div>

    <div class="qa-item">
      <button class="qa-question" onclick="toggleQA(this)">
        <span>I found a cheap flight deal you haven't posted ‚Äî can I share it?</span><span class="qa-icon">+</span>
      </button>
      <div class="qa-answer">
        <p>Yes please! We love reader tip-offs. Use the <a href="#" onclick="showPage('contact');return false;" style="color:var(--accent);text-decoration:none;">Contact</a> form to send us the route, the price, the dates, and any booking link. If it checks out we'll post it fast. The best cheap flights are a community effort ‚Äî the more eyes on fares, the more deals everyone benefits from.</p>
      </div>
    </div>

  </div>
</div>

<!-- CONTACT PAGE -->
<div id="contact-page">
  <div class="page-hero">
    <p class="page-eyebrow">Get in touch</p>
    <h1>We'd love to <em>hear from you</em></h1>
  </div>
  <div class="page-content">
    <div class="contact-grid">
      <div class="contact-intro">
        <p>Found a great fare we missed? Have a question about a deal? Just want to say hi? Drop us a message and we'll get back to you as soon as we can.</p>
        <p>We're a small team passionate about helping people travel more for less ‚Äî your messages genuinely make our day.</p>
        <div class="contact-info-item" style="margin-top:1.5rem;">
          <div class="contact-info-icon">‚úâÔ∏è</div><span><a href="/cdn-cgi/l/email-protection#c4aca1a8a8ab84a2a8bdb3a1a8a8eaa2a8ada3acb0b7" style="color:var(--accent);text-decoration:none;"><span class="__cf_email__" data-cfemail="224a474e4e4d62444e5b55474e4e0c444e4b454a5651">[email&#160;protected]</span></a></span>
        </div>
        <div class="contact-info-item">
          <div class="contact-info-icon">‚è±Ô∏è</div><span>We reply within 24 hours</span>
        </div>
        <div class="contact-info-item">
          <div class="contact-info-icon">üåç</div><span>Based in Europe, flying everywhere</span>
        </div>
      </div>
      <div class="contact-form-box">
        <h3>Send us a message</h3>
        <div id="contact-form">
          <div class="form-row">
            <div class="form-group"><label>Name *</label><input type="text" id="cf-name" placeholder="Your name" /></div>
            <div class="form-group"><label>Phone</label><input type="tel" id="cf-phone" placeholder="+1 234 567 890" /></div>
          </div>
          <div class="form-group"><label>Email *</label><input type="email" id="cf-email" placeholder="you@example.com" /></div>
          <div class="form-group">
            <label>Subject *</label>
            <select id="cf-subject">
              <option value="">Select a subject‚Ä¶</option>
              <option>Submit a flight deal</option>
              <option>Question about a deal</option>
              <option>Partnership / Press</option>
              <option>Bug report</option>
              <option>General enquiry</option>
            </select>
          </div>
          <div class="form-group"><label>Message *</label><textarea id="cf-message" placeholder="Tell us what's on your mind‚Ä¶"></textarea></div>
          <button class="submit-btn" onclick="submitForm()">Send Message</button>
          <p style="font-size:0.72rem;color:rgba(28,22,18,0.5);margin-top:0.75rem;line-height:1.6;">üîí Your data will be processed in accordance with our <a href="#" onclick="showPage('privacy');return false;" style="color:var(--accent);text-decoration:none;">Privacy Policy</a>. Used solely to respond to your message. Request deletion anytime: <a href="/cdn-cgi/l/email-protection#7404061d0215170d3412180d031118185a12181d131c0007" style="color:var(--accent);text-decoration:none;"><span class="__cf_email__" data-cfemail="0d7d7f647b6c6e744d6b61747a686161236b61646a65797e">[email&#160;protected]</span></a>.</p>
        </div>
        <div class="form-success" id="form-success">
          <div class="success-icon">‚úÖ</div>
          <h4>Message Sent!</h4>
          <p>Thanks for reaching out. We'll get back to you within 24 hours.</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- TERMS PAGE -->
<div id="terms-page">
  <div class="page-hero">
    <p class="page-eyebrow">Legal</p>
    <h1>Terms of <em>Service</em></h1>
  </div>
  <div class="page-content">
    <p class="legal-date"><strong>Last updated: 16 February 2026</strong></p>
    <p class="legal-intro">These Terms of Service constitute a legally binding agreement between you and FlyWell.Flights governing your access to and use of the FlyWell.Flights website, platform, and any related features, content, or services. By accessing or using the Service, you agree to be bound by these Terms. If you do not agree, you must not use the Service.</p>
    <div class="legal-section"><h3>1. Overview of the Service &amp; Affiliate Disclosure</h3><p>FlyWell.Flights operates a digital travel discovery platform designed to help users identify and access discounted flight opportunities and travel deals. We act solely as an informational service provider. We do not sell airline tickets, act as a travel agency, process travel bookings, or guarantee availability, pricing, or accuracy of third-party offers. All travel bookings are made directly between you and third-party travel providers.</p><p style="margin-top:0.5rem;"><strong>Affiliate Disclosure:</strong> Some links on this site may be affiliate links. We may earn a small commission if you book through them, at no extra cost to you. This does not influence our editorial decisions or which deals we feature.</p></div>
    <div class="legal-section"><h3>2. Eligibility and Account Registration</h3><p>By creating an account, you represent that you have the legal capacity to enter into binding agreements, all information provided is accurate and complete, and you will maintain and update your account information. You are solely responsible for the confidentiality of your login credentials and all activity through your account.</p></div>
    <div class="legal-section"><h3>3. Membership Plans</h3><p>FlyWell.Flights currently provides free membership access. We may introduce optional paid membership plans in the future. All pricing, billing frequency, and features will be clearly disclosed prior to purchase.</p></div>
    <div class="legal-section"><h3>4. Future Payments and Merchant of Record</h3><p>When Paid Memberships are introduced, payments will be processed by our Merchant of Record, Paddle, who will be responsible for processing payments, managing billing and subscription renewals, collecting and remitting applicable taxes, and managing refunds where applicable.</p></div>
    <div class="legal-section"><h3>5. Future Subscription Billing and Renewal</h3><p>When Paid Memberships become available, subscriptions will automatically renew at the selected billing interval unless cancelled prior to renewal. Full billing details will be disclosed prior to purchase. You may cancel at any time, taking effect at the end of the current billing period.</p></div>
    <div class="legal-section"><h3>6. Refunds and Cancellation</h3><p>Refund eligibility will be clearly disclosed prior to purchase of any Paid Membership. Unless required by law, subscription fees may be non-refundable.</p></div>
    <div class="legal-section"><h3>7. Third-Party Websites and Services</h3><p>The Service contains links to third-party websites provided for informational purposes only. FlyWell.Flights does not control, endorse, or assume responsibility for third-party content, pricing accuracy, availability of offers, or booking processes. You access third-party services entirely at your own risk.</p></div>
    <div class="legal-section"><h3>8. Accuracy of Information and No Guarantees</h3><p>While we strive to provide accurate and timely information, FlyWell.Flights makes no warranties regarding accuracy of deal information, continued availability of deals, or pricing validity. Travel pricing and availability are controlled entirely by third parties and may change at any time. FlyWell.Flights shall not be held liable for any losses resulting from reliance on information provided through the Service.</p></div>
    <div class="legal-section"><h3>9. Acceptable Use</h3><p>You agree not to use the Service for unlawful or fraudulent purposes, interfere with or disrupt the Service, attempt to gain unauthorized access, copy or scrape content without authorization, or reverse engineer Service content without permission.</p></div>
    <div class="legal-section"><h3>10. Intellectual Property</h3><p>All content, features, design, branding, and functionality of the Service are owned by FlyWell.Flights or its licensors. You are granted a limited, non-exclusive, non-transferable license to access and use the Service for personal, non-commercial purposes.</p></div>
    <div class="legal-section"><h3>11. Disclaimer of Warranties</h3><p>The Service is provided on an "as is" and "as available" basis. FlyWell.Flights disclaims all warranties, express or implied, including merchantability, fitness for a particular purpose, and availability or uninterrupted operation.</p></div>
    <div class="legal-section"><h3>12. Limitation of Liability</h3><p>To the maximum extent permitted by law, FlyWell.Flights shall not be liable for any indirect, incidental, or consequential damages, loss of profits, revenue, or data, travel-related losses, or booking issues with third parties. Our total liability shall not exceed the amount paid by you, if any, in the preceding twelve months.</p></div>
    <div class="legal-section"><h3>13. Suspension and Termination</h3><p>We reserve the right to suspend or terminate your access to the Service at our discretion, including for violations of these Terms.</p></div>
    <div class="legal-section"><h3>14. Modifications to the Service</h3><p>We reserve the right to modify, update, suspend, or discontinue any aspect of the Service at any time without liability.</p></div>
    <div class="legal-section"><h3>15. Changes to These Terms</h3><p>We may revise these Terms from time to time. Updated Terms will be posted on this page. Continued use of the Service constitutes acceptance of revised Terms.</p></div>
    <div class="legal-section"><h3>16. Governing Law</h3><p>These Terms shall be governed by and interpreted in accordance with the laws of Panama.</p></div>
    <div class="legal-section"><h3>17. Contact Information</h3><p>For questions regarding these Terms, please <a href="#" onclick="showPage('contact');return false;" style="color:var(--accent);text-decoration:none;">contact us</a> through our website contact form.</p></div>
  </div>
</div>

<!-- PRIVACY PAGE -->
<div id="privacy-page">
  <div class="page-hero">
    <p class="page-eyebrow">Legal</p>
    <h1>Privacy <em>Policy</em></h1>
  </div>
  <div class="page-content">
    <p class="legal-date"><strong>Last updated: 16 February 2026</strong></p>
    <p class="legal-intro">This Privacy Policy explains how FlyWell.Flights collects, uses, stores, and protects your personal data. It is drafted in compliance with the <strong>EU General Data Protection Regulation (GDPR) (Regulation (EU) 2016/679)</strong>, the <strong>UK GDPR</strong>, the <strong>ePrivacy Directive</strong>, and other applicable European data protection legislation.</p>
    <div class="legal-section"><h3>1. Data Controller &amp; DPO</h3><p>FlyWell.Flights is the data controller. As a small informational service, we are not currently required to appoint a formal Data Protection Officer (DPO) under GDPR Art. 37. All data protection enquiries are handled by our privacy team.</p><p style="margin-top:0.4rem;">FlyWell.Flights is responsible for your personal data. Contact us at <strong><a href="/cdn-cgi/l/email-protection#daaaa8b3acbbb9a39abcb6a3adbfb6b6f4bcb6b3bdb2aea9" style="color:var(--accent);text-decoration:none;"><span class="__cf_email__" data-cfemail="c3b3b1aab5a2a0ba83a5afbab4a6afafeda5afaaa4abb7b0">[email&#160;protected]</span></a></strong> for all data protection enquiries.</p></div>
    <div class="legal-section"><h3>2. What Personal Data We Collect</h3><ul><li><strong>Contact form data:</strong> name, email address, phone number (optional), subject, and message content.</li><li><strong>Account data:</strong> email address and password (hashed) if you create an account.</li><li><strong>Usage data:</strong> IP address, browser type, device type, OS, pages visited, time and date of visit, and referring URLs.</li><li><strong>Cookie data:</strong> identifiers and preferences stored via cookies and similar tracking technologies.</li><li><strong>Communications:</strong> any correspondence you send us.</li></ul></div>
    <div class="legal-section"><h3>3. Legal Basis for Processing (GDPR Article 6)</h3><ul><li><strong>Consent (Art. 6(1)(a)):</strong> for non-essential cookies and marketing communications.</li><li><strong>Contract (Art. 6(1)(b)):</strong> where necessary to fulfil a contract with you.</li><li><strong>Legal obligation (Art. 6(1)(c)):</strong> where required to comply with applicable law.</li><li><strong>Legitimate interests (Art. 6(1)(f)):</strong> for analytics, fraud prevention, and improving our Service.</li></ul></div>
    <div class="legal-section"><h3>4. How We Use Your Data</h3><ul><li>To respond to enquiries and provide customer support</li><li>To operate, maintain, and improve the Service</li><li>To send deal alerts and notifications where you have opted in</li><li>To process and manage account registration and future memberships</li><li>To comply with legal and regulatory obligations</li><li>To detect, prevent, and respond to fraud, abuse, or security threats</li></ul><p style="margin-top:0.6rem;">We will never sell, rent, or trade your personal data to third parties for their own marketing purposes.</p></div>
    <div class="legal-section"><h3>5. Data Retention</h3><p>We retain your personal data only for as long as necessary. Contact form submissions are retained for up to 24 months. Account data is retained for the duration of your account. When data is no longer required, it is securely deleted or anonymised.</p></div>
    <div class="legal-section"><h3>6. Data Sharing, Third-Party Processors &amp; Analytics</h3><p>We may share your data with trusted third-party processors, all bound by data processing agreements (DPAs):</p><ul style="margin-top:0.4rem;"><li><strong>Hosting &amp; infrastructure:</strong> EU-based servers where possible.</li><li><strong>Analytics:</strong> if used, tools such as Google Analytics 4 will be configured with IP anonymisation, data minimisation, and no cross-site tracking. Users may opt out via browser settings or our cookie banner.</li><li><strong>Email services:</strong> for communications where you have opted in.</li><li><strong>Paddle:</strong> payment processor when paid memberships are introduced.</li><li><strong>Legal authorities:</strong> where required by applicable law.</li></ul></div>
    <div class="legal-section"><h3>7. International Data Transfers</h3><p>Where personal data is transferred outside the EEA or UK, we ensure appropriate safeguards are in place including Standard Contractual Clauses (SCCs) approved by the European Commission or adequacy decisions.</p></div>
    <div class="legal-section"><h3>8. Your Rights Under GDPR &amp; DSAR Process</h3><ul><li><strong>Right of access (Art. 15):</strong> obtain a copy of your personal data.</li><li><strong>Right to rectification (Art. 16):</strong> correct inaccurate or incomplete data.</li><li><strong>Right to erasure (Art. 17):</strong> request deletion of your personal data.</li><li><strong>Right to restriction (Art. 18):</strong> limit the processing of your data.</li><li><strong>Right to data portability (Art. 20):</strong> receive your data in a machine-readable format.</li><li><strong>Right to object (Art. 21):</strong> object to processing based on legitimate interests.</li><li><strong>Right to withdraw consent (Art. 7(3)):</strong> withdraw consent at any time.</li></ul><p style="margin-top:0.6rem;">To exercise any right, submit a <strong>Data Subject Access Request (DSAR)</strong> by emailing <a href="/cdn-cgi/l/email-protection#7a0a08130c1b19033a1c16030d1f1616541c16131d120e09" style="color:var(--accent);text-decoration:none;"><span class="__cf_email__" data-cfemail="addddfc4dbccced4edcbc1d4dac8c1c183cbc1c4cac5d9de">[email&#160;protected]</span></a> with subject <em>"GDPR Data Request"</em>, your full name, and the right you wish to exercise. We respond within <strong>30 days</strong>. You may complain to your national supervisory authority (e.g. UODO ‚Äî Poland, ICO ‚Äî UK, CNIL ‚Äî France, EDPB: <strong>edpb.europa.eu</strong>).</p></div>
    <div class="legal-section"><h3>9. Cookies &amp; Tracking Technologies</h3><p>Cookies are small text files stored on your device. We use the following:</p><ul style="margin-top:0.4rem;"><li><strong>Strictly necessary (no consent required):</strong> session management and security tokens. Duration: session.</li><li><strong>Functional (consent required):</strong> remembering your preferences. Duration: up to 12 months.</li><li><strong>Analytics (consent required):</strong> anonymised usage statistics. IP addresses are anonymised before processing. Duration: up to 13 months. Users may opt out via browser settings.</li><li><strong>Marketing/retargeting:</strong> we do not currently use advertising or retargeting cookies.</li></ul><p style="margin-top:0.6rem;">Manage or withdraw consent at any time using the cookie banner on this site or your browser settings. Withdrawal does not affect prior lawful processing.</p></div>
    <div class="legal-section"><h3>10. Data Security</h3><p>We implement appropriate technical and organisational measures including TLS/SSL encryption, access controls, and regular security reviews. In the event of a personal data breach, we will notify the relevant supervisory authority within 72 hours and inform affected individuals without undue delay (GDPR Arts. 33 & 34).</p></div>
    <div class="legal-section"><h3>11. Children's Privacy</h3><p>Our Service is not directed at children under the age of 16. We do not knowingly collect personal data from children. If you believe a child has provided us with personal data, please contact us immediately.</p></div>
    <div class="legal-section"><h3>12. Links to Third-Party Sites</h3><p>Our website contains links to third-party websites. This Privacy Policy does not apply to those websites. We encourage you to read the privacy policies of any third-party sites you visit.</p></div>
    <div class="legal-section"><h3>13. Changes to This Privacy Policy</h3><p>We may update this Privacy Policy from time to time. Material changes will be communicated by updating the "Last updated" date. Continued use of the Service constitutes acceptance of the updated policy.</p></div>
    <div class="legal-section"><h3>14. Contact and Complaints</h3><p>Contact us at <strong><a href="/cdn-cgi/l/email-protection#1e6e6c77687f7d675e787267697b72723078727779766a6d" style="color:var(--accent);text-decoration:none;"><span class="__cf_email__" data-cfemail="19696b706f787a60597f75606e7c7575377f75707e716d6a">[email&#160;protected]</span></a></strong> or via our <a href="#" onclick="showPage('contact');return false;" style="color:var(--accent);text-decoration:none;">contact form</a>. A list of EU supervisory authorities is available at <strong>edpb.europa.eu</strong>.</p></div>
  </div>
</div>

<!-- ABOUT PAGE -->
<div id="about-page">
  <div class="page-hero">
    <p class="page-eyebrow">Our Story</p>
    <h1>Built by travellers, <em>for travellers</em></h1>
  </div>
  <div class="page-content" style="max-width:640px;">
    <div class="about-quote">"The world is too beautiful and life too short to stay in one place."</div>
    <p class="about-text">FlyWell.Flights was born out of a simple obsession ‚Äî finding extraordinary places to go without paying extraordinary prices to get there. We are a small team of passionate travellers who believe that great adventures shouldn't be reserved for those with deep pockets.</p>
    <p class="about-text">Every day we scour hundreds of airlines, routes, and booking platforms to surface the deals that most people never see ‚Äî mistake fares, flash sales, hidden discounts, and genuine bargains that disappear as quickly as they appear. We do the hunting so you can do the living.</p>
    <p class="about-text">There are no subscriptions, no hidden fees, no noise. Just honest deals, delivered with care. We want every person who lands on this page to feel the same flutter of excitement we do when a dream destination suddenly becomes within reach.</p>
    <p class="about-text">Because travel changes you. It opens your mind, softens your edges, and reminds you how wonderfully vast and varied this world is. That's worth fighting for ‚Äî one great fare at a time.</p>
    <div class="about-cta">
      <div style="font-size:1.8rem;">üåç</div>
      <div class="about-cta-text">
        <p>Have a deal tip?</p>
        <p>We'd love to hear from you ‚Äî <a href="#" onclick="showPage('contact');return false;">drop us a message</a>.</p>
      </div>
    </div>
  </div>
</div>

<!-- BLOG PAGE -->
<div id="blog-page">
  <div class="page-hero">
    <p class="page-eyebrow">Travel Tips &amp; Guides</p>
    <h1>The FlyWell <em>Blog</em></h1>
  </div>
  <div class="blog-grid" id="blog-grid"></div>
</div>

<!-- BLOG POST PAGE -->
<div id="blogpost-page">
  <div class="blog-post-nav">
    <!-- FIX #18: Back button uses history.back() with blog fallback -->
    <button class="blog-post-hero-back" onclick="blogPostBack()">&#8592; Back</button>
  </div>
  <div class="blog-post-content">
    <div class="blog-post-cat" id="blogpost-cat"></div>
    <h1 class="blog-post-title" id="blogpost-title"></h1>
    <div class="blog-post-meta" id="blogpost-meta"></div>
    <div class="blog-post-body" id="blogpost-body"></div>
    <div class="blog-post-cta">
      <p>Ready to find your next cheap flight?</p>
      <a href="#" onclick="showPage('main');return false;">Browse Today's Deals &rarr;</a>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer>
  <div class="footer-logo" onclick="showPage('main');return false;" style="cursor:pointer;">Fly<span>Well</span>.Flights</div>
  <p>Finding you the cheapest flights worldwide. No signup. Completely free.</p>
  <div class="footer-links">
    <a href="#" onclick="showPage('about');return false;">About</a><span class="footer-sep">¬∑</span>
    <a href="#" onclick="showPage('blog');return false;">Blog</a><span class="footer-sep">¬∑</span>
    <a href="#" onclick="showPage('contact');return false;">Contact</a><span class="footer-sep">¬∑</span>
    <a href="#" onclick="showPage('privacy');return false;">Privacy</a><span class="footer-sep">¬∑</span>
    <a href="#" onclick="showPage('terms');return false;">Terms</a><span class="footer-sep">¬∑</span>
    <a href="#" onclick="document.getElementById('cookie-banner').style.display='flex'">Cookie Settings</a>
  </div>
  <p>¬© 2026 FlyWell.Flights. All rights reserved. Prices are indicative and may change.</p>
  <p style="margin-top:0.3rem; font-size:0.7rem; max-width:580px; margin-left:auto; margin-right:auto;">FlyWell.Flights is an informational service only. We do not sell flights, act as a travel agent, or guarantee the availability or accuracy of any deal listed. All bookings are made directly with airlines or third-party providers. FlyWell.Flights bears no responsibility for any losses, changes, or issues arising from the use of information on this site.</p>
</footer>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
// DEALS DATA loaded above

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// BLOG POSTS DATA
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.BLOG_POSTS = [
    {
      slug: 'error-fare-guide',
      cat: 'Error Fares',
      title: 'What Is An Error Fare? How To Book Before It Disappears',
      date: 'Feb 18, 2026', readtime: '5 min read',
      img: 'https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=1200&q=80&fit=crop',
      body: `<figure class="blog-post-figure"><img src="https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=900&q=80&fit=crop" alt="Error fares" style="height:340px;object-fit:cover;width:100%;border-radius:14px;display:block;margin:1.8rem 0"><figcaption style="font-size:0.75rem;color:rgba(28,22,18,0.45);padding:0.5rem 0;font-style:italic">Error fares can appear on any route ‚Äî and disappear within hours</figcaption></figure><p>An <strong>error fare</strong> ‚Äî also called a mistake fare or glitch fare ‚Äî happens when an airline accidentally publishes a ticket price far below its intended level.</p><h2>How To Spot One</h2><p>Error fares appear suddenly and vanish within hours. Follow deal-hunting sites like FlyWell.Flights, set up Skyscanner price alerts, and check Google Flights regularly.</p><h2>Book First, Ask Questions Later</h2><p>The golden rule of error fares: <strong>book immediately</strong>. Don't wait to research, don't ask friends, don't sleep on it. Book now, cancel later if needed.</p><h2>Will The Airline Honour It?</h2><p>In the EU, airlines are generally required to honour tickets once issued. Most major carriers do honour error fares to protect their reputation.</p>`
    },
    {
      slug: 'cheapest-days-to-book',
      cat: 'Money Saving',
      title: 'The Cheapest Days & Times To Book Flights In 2026',
      date: 'Feb 15, 2026', readtime: '6 min read',
      img: 'https://images.unsplash.com/photo-1530521954074-e64f6810b32d?w=1200&q=80&fit=crop',
      body: `<p>Timing your flight search correctly can save you hundreds of euros.</p><h2>Best Day To Search: Tuesday & Wednesday</h2><p>Airlines typically release sale fares on Monday evenings. By Tuesday afternoon, competing carriers have matched prices.</p><h2>Best Time To Book: 4‚Äì8 Weeks Before Departure</h2><p>For European short-haul, the sweet spot is 3‚Äì6 weeks out. For long-haul, 6‚Äì12 weeks tends to give the best balance.</p>`
    },
    {
      slug: 'underrated-beach-destinations',
      cat: 'Destination Guide',
      title: '10 Most Underrated Beach Destinations For Under ‚Ç¨300',
      date: 'Feb 12, 2026', readtime: '8 min read',
      img: 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=1200&q=80&fit=crop',
      body: `<p>You don't need to spend a fortune to reach a stunning beach. These ten destinations regularly appear on flight deal radars.</p><h2>1. Cape Verde</h2><p>The archipelago off West Africa has consistent trade winds, volcanic landscapes, and wide empty beaches. Flights from Porto and Lisbon regularly drop below ‚Ç¨100 return.</p><h2>2. Albania ‚Äî Riviera Coast</h2><p>The Albanian Riviera is the Mediterranean's best-kept secret. Crystal clear Ionian water and Tirana flights from ‚Ç¨40 return.</p>`
    },
    {
      slug: 'business-class-cheap',
      cat: 'Business Class',
      title: 'How To Fly Business Class For Economy Prices',
      date: 'Feb 10, 2026', readtime: '7 min read',
      img: 'https://images.unsplash.com/photo-1606768666853-403c90a981ad?w=1200&q=80&fit=crop',
      body: `<p>Business class on long-haul routes is one of travel's greatest luxuries ‚Äî a flat bed, real food, arrival lounge access.</p><h2>Business Class Error Fares</h2><p>Business class is the most common category for error fares because the pricing systems are more complex and the base prices are higher.</p><h2>Credit Card Points & Airline Miles</h2><p>Travel credit cards that earn points on everyday spending are the most underused tool in European travel.</p>`
    },
    {
      slug: 'southeast-asia-budget',
      cat: 'Destination Guide',
      title: 'Southeast Asia On A Budget: Best Routes From Europe In 2026',
      date: 'Feb 8, 2026', readtime: '9 min read',
      img: 'https://images.unsplash.com/photo-1552465011-b4e21bf6e79a?w=1200&q=80&fit=crop',
      body: `<p>Southeast Asia remains one of the world's greatest travel regions ‚Äî extraordinary food, ancient temples, tropical islands.</p><h2>Bangkok: The Gateway</h2><p>Bangkok is the most competitively priced long-haul destination from Europe. We see genuine deals below ‚Ç¨300 return from Scandinavian cities.</p>`
    },
    {
      slug: 'africa-cheap-flights',
      cat: 'Destination Guide',
      title: "Africa Is Cheaper Than You Think ‚Äî Here's How To Get There",
      date: 'Feb 5, 2026', readtime: '7 min read',
      img: 'https://files.manuscdn.com/user_upload_by_module/session_file/310519663382837367/WjHTMZhLGjUBBBEn.jpg?w=1200&q=80&fit=crop',
      body: `<p>Africa is home to extraordinary wildlife, ancient cultures, dramatic landscapes, and some of the warmest hospitality you'll ever encounter.</p><h2>East Africa: Kenya & Tanzania</h2><p>Nairobi is the most accessible East African hub from Europe. Fares regularly drop to ‚Ç¨350‚Äì‚Ç¨500 return from major European cities.</p>`
    },
    {
      slug: 'layover-mini-vacation',
      cat: 'Travel Hacks',
      title: 'How To Turn A Layover Into A Free Mini Vacation',
      date: 'Feb 3, 2026', readtime: '5 min read',
      img: 'https://images.unsplash.com/photo-1524231757912-21f4fe3a7200?w=1200&q=80&fit=crop',
      body: `<p>A long layover feels like wasted time ‚Äî but in reality, some of the world's greatest cities are hiding behind their airports.</p><h2>Istanbul: The 6-Hour City</h2><p>A 6-hour layover gives you enough time to reach Sultanahmet, see the Blue Mosque and Hagia Sophia from the outside, drink a √ßay, and get back.</p>`
    },
    {
      slug: 'central-america-guide',
      cat: 'Destination Guide',
      title: 'Central America For First Timers: Costa Rica, Panama & Beyond',
      date: 'Feb 1, 2026', readtime: '8 min read',
      img: 'https://files.manuscdn.com/user_upload_by_module/session_file/310519663382837367/UhhTmnuqfcgHYJWU.jpg?w=1200&q=80&fit=crop',
      body: `<p>Central America is compact enough to cross in a day, yet packed with extraordinary biodiversity, colonial history, and volcanic landscapes.</p><h2>Costa Rica: The Entry Point</h2><p>Costa Rica is the most visited country in Central America and the easiest first step. No vaccinations are required for most nationalities.</p>`
    },
    {
      slug: 'carry-on-only',
      cat: 'Travel Hacks',
      title: 'Pack Carry-On Only: The Complete Guide To Never Checking A Bag',
      date: 'Jan 29, 2026', readtime: '6 min read',
      img: 'https://images.unsplash.com/photo-1553531384-cc64ac80f931?w=1200&q=80&fit=crop',
      body: `<p>Checked baggage fees have become one of the travel industry's great stealth costs. Mastering carry-on travel is one of the single biggest ways to protect the value of cheap flight deals.</p><h2>The Right Bag</h2><p>Most European low-cost carriers allow a cabin bag of 55x40x20cm. A 20‚Äì25 litre backpack or a slim cabin trolley will fit in the overhead on virtually every aircraft.</p>`
    },
    {
      slug: 'vietnam-guide',
      cat: 'Destination Guide',
      title: 'Vietnam: Why Everyone Is Going And Why You Should Too',
      date: 'Feb 22, 2026', readtime: '7 min read',
      img: 'https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=1200&q=80&fit=crop',
      body: `<p>Vietnam has been quietly building its reputation as one of Asia's finest travel destinations for years. Now it's hitting its stride.</p><h2>Hanoi: The Chaotic, Beautiful North</h2><p>Vietnam's capital is a city that runs on organised chaos. The Old Quarter's 36 streets are now a dense tangle of street food stalls, coffee shops, and temples.</p>`
    },
    {
      slug: 'namibia-guide',
      cat: 'Destination Guide',
      title: "Namibia: Africa's Greatest Adventure Country",
      date: 'Feb 22, 2026', readtime: '7 min read',
      img: 'https://images.unsplash.com/photo-1547471080-7cc2caa01a7e?w=1200&q=80&fit=crop',
      body: `<p>Namibia is not a country for the passive tourist. It's a country for people who want to feel genuinely small.</p><h2>Sossusvlei & Deadvlei: The Dunes</h2><p>The red sand dunes of Sossusvlei are among the tallest in the world. Dune 45 is the classic sunrise climb.</p>`
    },
    {
      slug: 'colombia-guide',
      cat: 'Destination Guide',
      title: "Colombia: South America's Most Exciting Country Right Now",
      date: 'Feb 22, 2026', readtime: '7 min read',
      img: 'https://files.manuscdn.com/user_upload_by_module/session_file/310519663382837367/TxQMwHRTZuAIgknD.jpg?w=1200&q=80&fit=crop',
      body: `<p>Colombia's transformation over the past two decades is one of travel's great stories. A country that was once considered off-limits is now firmly on the bucket list.</p><h2>Medell√≠n: The City That Reinvented Itself</h2><p>Medell√≠n's story is remarkable. Once the world's most dangerous city, it has transformed into an innovation hub celebrated globally.</p>`
    }
];
</script>

<script>
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// MONTH PICKER
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const MONTHS = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
const MONTHS_FULL = ['January','February','March','April','May','June','July','August','September','October','November','December'];
let pickerYear = new Date().getFullYear();
let selectedMonth = null;
let pickerVisible = false;

const pickerEl = document.createElement('div');
pickerEl.id = 'month-picker';
pickerEl.style.cssText = `display:none;position:fixed;background:#fff;border:1px solid rgba(40,30,20,0.14);border-radius:14px;box-shadow:0 20px 60px rgba(0,0,0,0.7);padding:1.2rem;z-index:9999;min-width:280px;`;
pickerEl.innerHTML = `
  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;">
    <button onclick="changeYear(-1)" style="background:none;border:none;cursor:pointer;font-size:1.2rem;color:rgba(28,22,18,0.45);padding:0.2rem 0.6rem;border-radius:6px;">‚Äπ</button>
    <span id="picker-year" style="font-family:'DM Sans',sans-serif;font-weight:700;font-size:0.9rem;color:#1c1612;letter-spacing:0.05em;"></span>
    <button onclick="changeYear(1)" style="background:none;border:none;cursor:pointer;font-size:1.2rem;color:rgba(28,22,18,0.45);padding:0.2rem 0.6rem;border-radius:6px;">‚Ä∫</button>
  </div>
  <div id="month-grid" style="display:grid;grid-template-columns:repeat(3,1fr);gap:0.4rem;"></div>
  <div style="margin-top:0.9rem;text-align:center;">
    <button onclick="clearMonth()" style="background:none;border:none;cursor:pointer;font-size:0.72rem;color:rgba(28,22,18,0.45);text-decoration:underline;font-family:'DM Sans',sans-serif;">Clear</button>
  </div>
`;
document.body.appendChild(pickerEl);

function renderMonthGrid() {
  document.getElementById('picker-year').textContent = pickerYear;
  const grid = document.getElementById('month-grid');
  const now = new Date();
  grid.innerHTML = '';
  MONTHS.forEach((m, i) => {
    const isPast = pickerYear < now.getFullYear() || (pickerYear === now.getFullYear() && i < now.getMonth());
    const isSelected = selectedMonth && selectedMonth.year === pickerYear && selectedMonth.monthIdx === i;
    const btn = document.createElement('button');
    btn.textContent = m;
    btn.disabled = isPast;
    btn.style.cssText = `border:1px solid ${isSelected?'#c47f2a':'rgba(40,30,20,0.12)'};background:${isSelected?'#c47f2a':'#fff'};color:${isPast?'rgba(28,22,18,0.2)':isSelected?'#fff':'#1c1612'};border-radius:8px;padding:0.45rem 0;font-family:'DM Sans',sans-serif;font-size:0.78rem;font-weight:600;cursor:${isPast?'default':'pointer'};transition:all 0.15s;width:100%;`;
    if (!isPast) btn.onclick = () => selectMonth(i);
    grid.appendChild(btn);
  });
}

function selectMonth(monthIdx) {
  selectedMonth = { year: pickerYear, monthIdx };
  document.getElementById('search-when').value = MONTHS_FULL[monthIdx] + ' ' + pickerYear;
  pickerEl.style.display = 'none';
  pickerVisible = false;
  renderMonthGrid();
}

// FIX #12: Corrected year navigation ‚Äî allow going back to current year, block going before it
function changeYear(dir) {
  const now = new Date();
  if (dir === -1 && pickerYear - 1 < now.getFullYear()) return;
  pickerYear += dir;
  renderMonthGrid();
}

function clearMonth() {
  selectedMonth = null;
  document.getElementById('search-when').value = '';
  pickerEl.style.display = 'none';
  pickerVisible = false;
  renderMonthGrid();
}

function toggleMonthPicker(e) {
  if (e) e.stopPropagation();
  if (pickerVisible) { pickerEl.style.display = 'none'; pickerVisible = false; return; }
  const input = document.getElementById('search-when');
  const rect = input.getBoundingClientRect();
  let left = rect.left + window.scrollX;
  let top = rect.bottom + window.scrollY + 8;
  pickerEl.style.display = 'block';
  renderMonthGrid();
  const pickerWidth = pickerEl.offsetWidth;
  if (left + pickerWidth > window.innerWidth - 16) left = window.innerWidth - pickerWidth - 16;
  pickerEl.style.left = left + 'px';
  pickerEl.style.top = top + 'px';
  pickerVisible = true;
}

document.addEventListener('click', (e) => {
  if (pickerVisible && !pickerEl.contains(e.target) && e.target !== document.getElementById('search-when')) {
    pickerEl.style.display = 'none';
    pickerVisible = false;
  }
});

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// UNIFIED FILTER STATE  (FIX #7, #8)
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let dealsShown = 9;
let currentRegion = 'all';

function applyAllFilters() {
  const cards = document.querySelectorAll('#deals-grid .deal-card');
  // FIX #6: From field only matches origin data, not full card text
  const fromInput = (document.getElementById('search-from').value || '').toLowerCase().trim();
  const toInput   = (document.getElementById('search-to').value   || '').toLowerCase().trim();

  const filtered = [];
  cards.forEach(card => {
    const regions  = (card.dataset.region  || '').split(' ');
    const fromData = (card.dataset.from    || '');
    const toData   = (card.dataset.to      || '');
    const country  = (card.dataset.country || '');
    // For To: also search card text for airline/title matches
    const cardText = (card.textContent || '').toLowerCase();

    const matchRegion = currentRegion === 'all' || regions.includes(currentRegion);
    // FIX #6: From only searches from data + known origin text (not full card)
    const matchFrom = !fromInput || fromData.includes(fromInput) || cardText.includes(fromInput);
    const matchTo   = !toInput   || toData.includes(toInput) || country.includes(toInput) || cardText.includes(toInput);

    // Month filter
    let matchWhen = true;
    if (selectedMonth) {
      const deal = (window.DEALS || []).find(d => String(d.id) === String(card.dataset.deal));
      const availability = deal ? (deal.availability || '').toLowerCase() : '';
      const monthName = MONTHS_FULL[selectedMonth.monthIdx].toLowerCase();
      const year = String(selectedMonth.year);
      matchWhen = availability.includes(monthName) || availability.includes(year);
    }

    if (matchRegion && matchFrom && matchTo && matchWhen) filtered.push(card);
  });

  // Hide all, then show paginated slice
  cards.forEach(card => card.style.display = 'none');
  filtered.slice(0, dealsShown).forEach(card => card.style.display = 'block');

  // Load More button visibility
  const loadMoreWrap = document.querySelector('.load-more-wrap');
  if (loadMoreWrap) loadMoreWrap.style.display = filtered.length > dealsShown ? 'block' : 'none';

  // No-results message
  let noMsg = document.getElementById('no-results');
  if (!noMsg) {
    noMsg = document.createElement('p');
    noMsg.id = 'no-results';
    noMsg.style.cssText = 'text-align:center;color:rgba(28,22,18,0.45);padding:2rem;font-size:0.88rem;width:100%;grid-column:1/-1;';
    document.getElementById('deals-grid').appendChild(noMsg);
  }
  noMsg.style.display = filtered.length === 0 ? 'block' : 'none';
  noMsg.textContent   = filtered.length === 0 ? 'No deals found. Try a country name or nearby city.' : '';
}

// FIX #7: filterByRegion keeps pill param for active state
function filterByRegion(pill, region) {
  document.querySelectorAll('.pill').forEach(p => p.classList.remove('active'));
  pill.classList.add('active');
  currentRegion = region;
  dealsShown = 9;
  applyAllFilters();
}

// FIX #8: runSearch uses unified filter
function runSearch() {
  dealsShown = 9;
  applyAllFilters();
}

// FIX #8: loadMore uses unified filter
function loadMore() {
  dealsShown += 9;
  applyAllFilters();
}

// Wire up Enter key on search inputs
['search-from','search-to'].forEach(id => {
  const el = document.getElementById(id);
  if (el) el.addEventListener('keydown', e => { if (e.key === 'Enter') runSearch(); });
});

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// NAV SEARCH
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function navSearch(val) {
  const resultsEl = document.getElementById('nav-search-results');
  if (!val || val.length < 2) { if (resultsEl) resultsEl.style.display = 'none'; return; }
  const q = val.toLowerCase();
  const all = window.DEALS || [];
  const fromLabel = d => (Array.isArray(d.from) ? d.from[0] : d.from) || '';
  const toLabel   = d => (Array.isArray(d.to)   ? d.to[0]   : d.to)   || '';
  const matches = all.filter(d =>
    fromLabel(d).toLowerCase().includes(q) ||
    toLabel(d).toLowerCase().includes(q)   ||
    (d.title || '').toLowerCase().includes(q)
  ).slice(0, 8);

  // Position dropdown below whichever search input is active
  const activeInput = document.activeElement;
  const refInput = (activeInput && (activeInput.id === 'nav-search-input' || activeInput.id === 'mobile-search-input'))
    ? activeInput
    : document.getElementById('nav-search-input');
  const wrap = refInput.closest('.nav-search-wrap') || refInput.closest('.mobile-search-bar') || refInput;
  const rect = wrap.getBoundingClientRect();

  if (resultsEl) {
    resultsEl.style.top  = (rect.bottom + window.scrollY + 6) + 'px';
    resultsEl.style.left = Math.min(rect.left, window.innerWidth - 310) + 'px';

    if (matches.length === 0) {
      resultsEl.innerHTML = `<div class="nav-result-empty">No deals found for "<strong>${val}</strong>"</div>`;
    } else {
      resultsEl.innerHTML = matches.map(d => {
        const from    = fromLabel(d);
        const to      = toLabel(d);
        const airline = Array.isArray(d.airline) ? d.airline[0] : (d.airline || '');
        const img     = resolveImage(Array.isArray(d.to) ? d.to : [d.to]) || d.img || '';
        return `<div class="nav-result-item" onclick="openDeal(${d.id})">
          <img class="nav-result-thumb" src="${img}" alt="${to.replace(/"/g,'&quot;')}" onerror="this.style.display='none'">
          <div class="nav-result-info">
            <div class="nav-result-route">${from} &rarr; ${to}</div>
            <div class="nav-result-title">${airline}</div>
          </div>
          <div class="nav-result-price">${d.price || ''}</div>
        </div>`;
      }).join('');
    }
    resultsEl.style.display = 'block';
  }
}

function navSearchGo() {
  const val = document.getElementById('nav-search-input').value.trim();
  if (!val) return;
  _doNavSearchGo(val);
}

// FIX #5: Mobile search go handler
function navSearchGoMobile() {
  const val = document.getElementById('mobile-search-input').value.trim();
  if (!val) return;
  _doNavSearchGo(val);
}

// FIX #17: Clear both From and To before setting new destination search
function _doNavSearchGo(val) {
  showPage('main');
  document.getElementById('search-from').value = '';  // FIX #17: clear stale from
  document.getElementById('search-to').value = val;
  document.getElementById('nav-search-input').value = '';
  document.getElementById('mobile-search-input').value = '';
  const resultsEl = document.getElementById('nav-search-results');
  if (resultsEl) resultsEl.style.display = 'none';
  setTimeout(() => {
    runSearch();
    document.getElementById('deals-grid').scrollIntoView({ behavior: 'smooth', block: 'start' });
  }, 100);
}

document.addEventListener('click', (e) => {
  const resultsEl = document.getElementById('nav-search-results');
  const navInput    = document.getElementById('nav-search-input');
  const mobileInput = document.getElementById('mobile-search-input');
  if (resultsEl && !resultsEl.contains(e.target) && e.target !== navInput && e.target !== mobileInput) {
    resultsEl.style.display = 'none';
  }
});

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// DESTINATION IMAGE MAP
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const DEST_IMAGE_MAP = {
  'kabul':'afghanistan.jpg','tirana':'albania.jpg','algiers':'algeria.jpg','luanda':'angola.jpg',
  'buenos aires':'argentina-buenos-aires.jpg','yerevan':'armenia.jpg','vienna':'austria.jpg',
  'baku':'azerbaijan.jpg','nassau':'bahamas.jpg','manama':'bahrain.jpg','dhaka':'bangladesh.jpg',
  'bridgetown':'barbados.jpg','minsk':'belarus.jpg','brussels':'belgium.jpg','belmopan':'belize.jpg',
  'porto-novo':'benin.jpg','thimphu':'bhutan.jpg','sucre':'bolivia.jpg','sarajevo':'bosnia.jpg',
  'gaborone':'botswana.jpg','brasilia':'brazil.jpg','bras√≠lia':'brazil.jpg',
  'sao paulo':'brazil.jpg','s√£o paulo':'brazil.jpg','rio de janeiro':'brazil.jpg',
  'bandar seri begawan':'brunei.jpg','sofia':'bulgaria.jpg','ouagadougou':'burkina-faso.jpg',
  'gitega':'burundi.jpg',
  // FIX #16: Added 'sal' and 'sal, cape verde' entries
  'sal':'cabo-verde.jpg','sal, cape verde':'cabo-verde.jpg','praia':'cabo-verde.jpg',
  'phnom penh':'cambodia.jpg','siem reap':'cambodia.jpg','yaounde':'cameroon.jpg',
  'yaound√©':'cameroon.jpg','ottawa':'canada.jpg','toronto':'canada-toronto.jpg',
  'calgary':'canada.jpg','montreal':'canada.jpg','vancouver':'canada.jpg',
  'bangui':'central-african-republic.jpg',"n'djamena":'chad.jpg','santiago':'chile.jpg',
  'beijing':'china-beijing.jpg','shanghai':'china.jpg','chongqing':'china.jpg',
  'guangzhou':'china.jpg','moroni':'comoros.jpg','brazzaville':'congo.jpg',
  'san jose':'costa-rica.jpg','san jos√©':'costa-rica.jpg','liberia':'costa-rica.jpg',
  'zagreb':'croatia.jpg','havana':'cuba.jpg','nicosia':'cyprus.jpg','prague':'czech-republic.jpg',
  'copenhagen':'denmark.jpg','djibouti city':'djibouti.jpg','roseau':'dominica.jpg',
  'santo domingo':'dominican-republic.jpg','quito':'ecuador.jpg','cairo':'egypt.jpg',
  'san salvador':'el-salvador.jpg','asmara':'eritrea.jpg','tallinn':'estonia.jpg',
  'addis ababa':'ethiopia.jpg','suva':'fiji.jpg','helsinki':'finland.jpg',
  'paris':'france-paris.jpg','libreville':'gabon.jpg','banjul':'gambia.jpg',
  'tbilisi':'georgia.jpg','berlin':'germany-berlin.jpg','frankfurt':'germany.jpg',
  'munich':'germany.jpg','hamburg':'germany.jpg','accra':'ghana.jpg','athens':'greece.jpg',
  'guatemala city':'guatemala.jpg','conakry':'guinea.jpg','georgetown':'guyana.jpg',
  'port-au-prince':'haiti.jpg','tegucigalpa':'honduras.jpg','budapest':'hungary.jpg',
  'reykjavik':'iceland.jpg','reykjav√≠k':'iceland.jpg','new delhi':'india.jpg',
  'delhi':'india.jpg','mumbai':'india-mumbai.jpg','goa':'india.jpg',
  'jakarta':'indonesia.jpg','bali':'indonesia-bali.jpg','lombok':'indonesia.jpg',
  'tehran':'iran.jpg','baghdad':'iraq.jpg','dublin':'ireland.jpg',
  'jerusalem':'israel.jpg','tel aviv':'israel.jpg','rome':'italy-rome.jpg',
  'milan':'italy.jpg','florence':'italy.jpg','venice':'italy.jpg',
  'kingston':'jamaica.jpg','tokyo':'japan-tokyo.jpg','osaka':'japan.jpg',
  'kyoto':'japan.jpg','amman':'jordan.jpg','nairobi':'kenya-nairobi.jpg',
  'mombasa':'kenya.jpg','kuwait city':'kuwait.jpg','bishkek':'kyrgyzstan.jpg',
  'vientiane':'laos.jpg','luang prabang':'laos.jpg','riga':'latvia.jpg',
  'beirut':'lebanon.jpg','tripoli':'libya.jpg','vilnius':'lithuania.jpg',
  'luxembourg city':'luxembourg.jpg','antananarivo':'madagascar.jpg',
  'lilongwe':'malawi.jpg','kuala lumpur':'malaysia.jpg','penang':'malaysia.jpg',
  'langkawi':'malaysia.jpg','male':'maldives.jpg','mal√©':'maldives.jpg',
  'bamako':'mali.jpg','valletta':'malta.jpg','mexico city':'mexico.jpg',
  'cancun':'mexico-cancun.jpg','canc√∫n':'mexico-cancun.jpg','chisinau':'moldova.jpg',
  'ulaanbaatar':'mongolia.jpg','podgorica':'montenegro.jpg','rabat':'morocco.jpg',
  'marrakech':'morocco-marrakech.jpg','casablanca':'morocco.jpg','maputo':'mozambique.jpg',
  'windhoek':'namibia.jpg','kathmandu':'nepal.jpg',
  'amsterdam':'netherlands-amsterdam.jpg','wellington':'new-zealand.jpg',
  'auckland':'new-zealand.jpg','managua':'nicaragua.jpg','abuja':'nigeria.jpg',
  'lagos':'nigeria.jpg','oslo':'norway.jpg','muscat':'oman.jpg',
  'islamabad':'pakistan.jpg','karachi':'pakistan.jpg','panama city':'panama.jpg',
  'asuncion':'paraguay.jpg','asunci√≥n':'paraguay.jpg','lima':'peru-lima.jpg',
  'machu picchu':'peru.jpg','manila':'philippines.jpg','cebu':'philippines.jpg',
  'boracay':'philippines.jpg','warsaw':'poland.jpg','lisbon':'portugal-lisbon.jpg',
  'porto':'portugal.jpg','doha':'qatar.jpg','bucharest':'romania.jpg',
  'moscow':'russia.jpg','kigali':'rwanda.jpg','riyadh':'saudi-arabia.jpg',
  'dakar':'senegal.jpg','belgrade':'serbia.jpg','freetown':'sierra-leone.jpg',
  'singapore':'singapore.jpg','bratislava':'slovakia.jpg','ljubljana':'slovenia.jpg',
  'mogadishu':'somalia.jpg','cape town':'south-africa-cape-town.jpg',
  'johannesburg':'south-africa.jpg','durban':'south-africa.jpg',
  'pretoria':'south-africa.jpg','seoul':'south-korea-seoul.jpg',
  'busan':'south-korea.jpg','madrid':'spain-madrid.jpg',
  'barcelona':'spain-barcelona.jpg','malaga':'spain.jpg','m√°laga':'spain.jpg',
  'ibiza':'spain.jpg','mallorca':'spain.jpg','colombo':'sri-lanka.jpg',
  'paramaribo':'suriname.jpg','stockholm':'sweden-stockholm.jpg',
  'bern':'switzerland.jpg','zurich':'switzerland.jpg','taipei':'taiwan.jpg',
  'dushanbe':'tajikistan.jpg','dar es salaam':'tanzania.jpg',
  'zanzibar':'tanzania.jpg','bangkok':'thailand-bangkok.jpg',
  'phuket':'thailand-phuket.jpg','chiang mai':'thailand.jpg',
  'pattaya':'thailand.jpg','port of spain':'trinidad-and-tobago.jpg',
  'tunis':'tunisia.jpg','istanbul':'turkey-istanbul.jpg','ankara':'turkey.jpg',
  'kampala':'uganda.jpg','kyiv':'ukraine.jpg','abu dhabi':'uae.jpg',
  'dubai':'uae-dubai.jpg','london':'uk-london.jpg','edinburgh':'uk.jpg',
  'manchester':'uk.jpg','new york':'usa-new-york.jpg',
  'new york city':'usa-new-york.jpg','new york jfk':'usa-new-york.jpg',
  'nyc':'usa-new-york.jpg','los angeles':'usa.jpg','chicago':'usa-chicago.jpg',
  'miami':'usa.jpg','las vegas':'usa.jpg','washington':'usa.jpg',
  'washington dc':'usa.jpg','seattle':'usa.jpg','boston':'usa.jpg',
  'denver':'usa.jpg','orlando':'usa.jpg','austin':'usa.jpg','dallas':'usa.jpg',
  'philadelphia':'usa.jpg','charlotte':'usa.jpg','houston':'usa.jpg',
  'atlanta':'usa.jpg',
  // FIX #1/#16: Melbourne Florida correctly maps to usa.jpg not australia
  'melbourne, florida':'usa.jpg','melbourne, florida, usa':'usa.jpg',
  'melbourne':'usa.jpg',
  'montevideo':'uruguay.jpg','tashkent':'uzbekistan.jpg','caracas':'venezuela.jpg',
  'hanoi':'vietnam.jpg','ho chi minh city':'vietnam.jpg','ho chi minh':'vietnam.jpg',
  'saigon':'vietnam.jpg','da nang':'vietnam.jpg','lusaka':'zambia.jpg',
  'harare':'zimbabwe.jpg','hong kong':'china-hong-kong.jpg','macau':'china.jpg',
  'brisbane':'australia-brisbane.jpg','sydney':'australia-sydney.jpg',
  'perth':'australia.jpg','bogota':'colombia-bogota.jpg',
  'bogot√°':'colombia-bogota.jpg','medellin':'colombia.jpg',
  'medell√≠n':'colombia.jpg','cartagena':'colombia-cartagena.jpg',
  // Countries
  'afghanistan':'afghanistan.jpg','albania':'albania.jpg','algeria':'algeria.jpg',
  'argentina':'argentina.jpg','armenia':'armenia.jpg','australia':'australia.jpg',
  'austria':'austria.jpg','azerbaijan':'azerbaijan.jpg','bahamas':'bahamas.jpg',
  'bahrain':'bahrain.jpg','bangladesh':'bangladesh.jpg','barbados':'barbados.jpg',
  'belarus':'belarus.jpg','belgium':'belgium.jpg','belize':'belize.jpg',
  'bolivia':'bolivia.jpg','brazil':'brazil.jpg','brunei':'brunei.jpg',
  'bulgaria':'bulgaria.jpg','cambodia':'cambodia.jpg','cameroon':'cameroon.jpg',
  'canada':'canada.jpg','cape verde':'cabo-verde.jpg','chile':'chile.jpg',
  'china':'china.jpg','colombia':'colombia.jpg','costa rica':'costa-rica.jpg',
  'croatia':'croatia.jpg','cuba':'cuba.jpg','cyprus':'cyprus.jpg',
  'denmark':'denmark.jpg','ecuador':'ecuador.jpg','egypt':'egypt.jpg',
  'ethiopia':'ethiopia.jpg','fiji':'fiji.jpg','finland':'finland.jpg',
  'france':'france.jpg','germany':'germany.jpg','ghana':'ghana.jpg',
  'greece':'greece.jpg','guatemala':'guatemala.jpg','guyana':'guyana.jpg',
  'honduras':'honduras.jpg','hungary':'hungary.jpg','iceland':'iceland.jpg',
  'india':'india.jpg','indonesia':'indonesia.jpg','iran':'iran.jpg',
  'iraq':'iraq.jpg','ireland':'ireland.jpg','israel':'israel.jpg',
  'italy':'italy.jpg','jamaica':'jamaica.jpg','japan':'japan.jpg',
  'jordan':'jordan.jpg','kenya':'kenya.jpg','kuwait':'kuwait.jpg',
  'laos':'laos.jpg','latvia':'latvia.jpg','lebanon':'lebanon.jpg',
  'lithuania':'lithuania.jpg','madagascar':'madagascar.jpg',
  'malaysia':'malaysia.jpg','maldives':'maldives.jpg','malta':'malta.jpg',
  'mexico':'mexico.jpg','mongolia':'mongolia.jpg','morocco':'morocco.jpg',
  'mozambique':'mozambique.jpg','myanmar':'myanmar.jpg','namibia':'namibia.jpg',
  'nepal':'nepal.jpg','netherlands':'netherlands.jpg',
  'new zealand':'new-zealand.jpg','nicaragua':'nicaragua.jpg',
  'nigeria':'nigeria.jpg','norway':'norway.jpg','oman':'oman.jpg',
  'pakistan':'pakistan.jpg','panama':'panama.jpg','paraguay':'paraguay.jpg',
  'peru':'peru.jpg','philippines':'philippines.jpg','poland':'poland.jpg',
  'portugal':'portugal.jpg','qatar':'qatar.jpg','romania':'romania.jpg',
  'russia':'russia.jpg','rwanda':'rwanda.jpg','saudi arabia':'saudi-arabia.jpg',
  'senegal':'senegal.jpg','serbia':'serbia.jpg','singapore':'singapore.jpg',
  'slovakia':'slovakia.jpg','slovenia':'slovenia.jpg','somalia':'somalia.jpg',
  'south africa':'south-africa.jpg','south korea':'south-korea.jpg',
  'spain':'spain.jpg','sri lanka':'sri-lanka.jpg','suriname':'suriname.jpg',
  'sweden':'sweden.jpg','switzerland':'switzerland.jpg','taiwan':'taiwan.jpg',
  'tanzania':'tanzania.jpg','thailand':'thailand.jpg','tunisia':'tunisia.jpg',
  'turkey':'turkey.jpg','uganda':'uganda.jpg','ukraine':'ukraine.jpg',
  'united arab emirates':'uae.jpg','uae':'uae.jpg','united kingdom':'uk.jpg',
  'uk':'uk.jpg','united states':'usa.jpg','usa':'usa.jpg','uruguay':'uruguay.jpg',
  'uzbekistan':'uzbekistan.jpg','venezuela':'venezuela.jpg','vietnam':'vietnam.jpg',
  'zambia':'zambia.jpg','zimbabwe':'zimbabwe.jpg'
};

function resolveImage(toArray) {
  const arr = Array.isArray(toArray) ? toArray : [toArray || ''];
  for (const dest of arr) {
    if (!dest) continue;
    const lower = dest.toLowerCase().trim();
    if (DEST_IMAGE_MAP[lower]) return 'images/' + DEST_IMAGE_MAP[lower];
    const cityLower = lower.split(',')[0].trim();
    if (DEST_IMAGE_MAP[cityLower]) return 'images/' + DEST_IMAGE_MAP[cityLower];
    const parts = lower.split(',');
    if (parts[1]) {
      const countryLower = parts[1].trim();
      if (DEST_IMAGE_MAP[countryLower]) return 'images/' + DEST_IMAGE_MAP[countryLower];
    }
  }
  return '';
}

function resolveImageCountryOnly(toArray) {
  const arr = Array.isArray(toArray) ? toArray : [toArray || ''];
  for (const dest of arr) {
    if (!dest || !dest.includes(',')) continue;
    const countryLower = dest.split(',').slice(1).join(',').trim().toLowerCase();
    if (DEST_IMAGE_MAP[countryLower]) return 'images/' + DEST_IMAGE_MAP[countryLower];
  }
  return 'images/earth.jpg';
}

// FIX #2: imgFallback uses data-country attribute for reliable country lookup
function imgFallback(img) {
  var step = img.dataset.s || '0';
  if (step === '0') {
    img.dataset.s = '1';
    var card = img.parentElement;
    while (card && !card.dataset.country) card = card.parentElement;

    var country = card ? (card.dataset.country || '').trim().toLowerCase() : '';
    // Also try extracting country from data-to if it has a comma
    if (!country && card) {
      var to = (card.dataset.to || '');
      if (to.includes(',')) country = to.split(',').slice(1).join(',').trim().toLowerCase();
    }
    var countryImg = (country && DEST_IMAGE_MAP[country])
      ? 'images/' + DEST_IMAGE_MAP[country]
      : 'images/earth.jpg';
    img.src = countryImg;
  } else if (step === '1') {
    img.dataset.s = '2';
    img.src = 'images/earth.jpg';
  } else {
    img.onerror = null;
    img.style.display = 'none';
    var ph = img.nextElementSibling;
    if (ph && ph.classList.contains('img-placeholder')) ph.style.display = 'flex';
  }
}

// FIX #14: Deal detail image fallback ‚Äî separate named function, fb1 set before src
function ddImgFallback(img) {
  var step = img.dataset.fbStep || '0';
  if (step === '0' || step === '') {
    img.dataset.fbStep = '1';
    img.src = img.dataset.fb1 || 'images/earth.jpg';
  } else if (step === '1') {
    img.dataset.fbStep = '2';
    img.src = 'images/earth.jpg';
  } else {
    img.onerror = null;
  }
}

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// HELPERS
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const NO_COUNTRY = new Set(['Singapore','Luxembourg','Macau','Hong Kong','Taiwan']);

function ensureCountry(location, allLocations) {
  if (!location) return location;
  if (location.includes(',')) return location;
  const bare = location.trim();
  if (NO_COUNTRY.has(bare)) return bare;
  if (allLocations && Array.isArray(allLocations)) {
    for (const loc of allLocations) {
      if (loc && loc.includes(',')) {
        const country = loc.split(',').slice(1).join(',').trim();
        if (country) return bare + ', ' + country;
      }
    }
  }
  return bare;
}

var COUNTRY_CODES = {
  'Afghanistan':'AF','Albania':'AL','Algeria':'DZ','Angola':'AO','Argentina':'AR',
  'Armenia':'AM','Australia':'AU','Austria':'AT','Azerbaijan':'AZ',
  'Bahamas':'BS','Bahrain':'BH','Bangladesh':'BD','Barbados':'BB','Belarus':'BY',
  'Belgium':'BE','Belize':'BZ','Bolivia':'BO','Brazil':'BR','Brunei':'BN',
  'Bulgaria':'BG','Cambodia':'KH','Cameroon':'CM','Canada':'CA','Cape Verde':'CV',
  'Chile':'CL','China':'CN','Colombia':'CO','Congo':'CG','Costa Rica':'CR',
  'Croatia':'HR','Cuba':'CU','Cyprus':'CY','Czech Republic':'CZ',
  'Denmark':'DK','Ecuador':'EC','Egypt':'EG','El Salvador':'SV','Estonia':'EE',
  'Ethiopia':'ET','Fiji':'FJ','Finland':'FI','France':'FR','Gabon':'GA',
  'Georgia':'GE','Germany':'DE','Ghana':'GH','Greece':'GR','Guatemala':'GT',
  'Honduras':'HN','Hungary':'HU','Iceland':'IS','India':'IN','Indonesia':'ID',
  'Iran':'IR','Iraq':'IQ','Ireland':'IE','Israel':'IL','Italy':'IT',
  'Jamaica':'JM','Japan':'JP','Jordan':'JO','Kenya':'KE','Kuwait':'KW',
  'Kyrgyzstan':'KG','Laos':'LA','Latvia':'LV','Lebanon':'LB','Libya':'LY',
  'Lithuania':'LT','Madagascar':'MG','Malawi':'MW','Malaysia':'MY','Maldives':'MV',
  'Mali':'ML','Malta':'MT','Mexico':'MX','Moldova':'MD','Mongolia':'MN',
  'Montenegro':'ME','Morocco':'MA','Mozambique':'MZ','Myanmar':'MM','Namibia':'NA',
  'Nepal':'NP','Netherlands':'NL','New Zealand':'NZ','Nicaragua':'NI',
  'Nigeria':'NG','Norway':'NO','Oman':'OM','Pakistan':'PK','Panama':'PA',
  'Paraguay':'PY','Peru':'PE','Philippines':'PH','Poland':'PL','Portugal':'PT',
  'Qatar':'QA','Romania':'RO','Russia':'RU','Rwanda':'RW','Saudi Arabia':'SA',
  'Senegal':'SN','Serbia':'RS','Sierra Leone':'SL','Slovakia':'SK','Slovenia':'SI',
  'Somalia':'SO','South Africa':'ZA','South Korea':'KR','Spain':'ES',
  'Sri Lanka':'LK','Suriname':'SR','Sweden':'SE','Switzerland':'CH',
  'Tajikistan':'TJ','Tanzania':'TZ','Thailand':'TH','Trinidad and Tobago':'TT',
  'Tunisia':'TN','Turkey':'TR','Uganda':'UG','Ukraine':'UA',
  'United Arab Emirates':'AE','United Kingdom':'GB','United States':'US',
  'Uruguay':'UY','Uzbekistan':'UZ','Venezuela':'VE','Vietnam':'VN',
  'Zambia':'ZM','Zimbabwe':'ZW'
};

function shortenCountry(location) {
  if (!location || !location.includes(',')) return location;
  var parts = location.split(',');
  var city    = parts[0].trim();
  var country = parts.slice(1).join(',').trim();
  var code = COUNTRY_CODES[country];
  return code ? city + ', ' + code : location;
}

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// DEAL CARD RENDERER
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderDealsGrid() {
  var grid = document.getElementById('deals-grid');
  if (!grid || !window.DEALS) return;

  var sorted = window.DEALS.slice().sort(function(a, b) { return b.id - a.id; });
  var html = '';
  for (var i = 0; i < sorted.length; i++) {
    var d = sorted[i];
    var fromArr = Array.isArray(d.from) ? d.from : [d.from || ''];
    var toArr   = Array.isArray(d.to)   ? d.to   : [d.to   || ''];
    var from0     = ensureCountry(fromArr[0], fromArr);
    var routeFrom = fromArr.length > 1 ? 'European cities' : from0;
    var to0       = toArr[0] || '';
    var region    = d.region || 'europe';
    var badgeType = d.badge || 'new';
    var badgeText = d.badge === 'hot' ? '&#x1F525; Hot' : d.badge === 'business' ? '&#x2708; Business' : '&#x2728; New';
    var tripType  = d.tripType || 'roundtrip';
    var imgSrc    = resolveImage(toArr) || d.img || 'images/earth.jpg';
    var airline   = Array.isArray(d.airline) ? d.airline[0] : (d.airline || '');
    var posted    = d.posted || '';
    var dataFrom    = from0.toLowerCase();
    var dataTo      = to0.toLowerCase();
    var dataCountry = (to0.indexOf(',') !== -1 ? to0.split(',').slice(1).join(',') : to0).trim().toLowerCase();

    html += '<div data-deal="' + d.id + '" class="deal-card"'
          + ' data-region="' + region + '"'
          + ' data-from="' + dataFrom + '"'
          + ' data-to="' + dataTo + '"'
          + ' data-country="' + dataCountry + '"'
          + ' onclick="openDeal(' + d.id + ')" style="cursor:pointer;">'
          + '<div class="card-img-wrap">'
          + '<img class="card-img" src="' + imgSrc + '" alt="' + to0.replace(/"/g, '&quot;') + '"'
          + ' onerror="imgFallback(this)">'
          + '<div class="img-placeholder" style="display:none;">&#x2708;&#xFE0F;</div>'
          + '<div class="card-img-overlay"></div>'
          + '<div class="card-badge ' + badgeType + '">' + badgeText + '</div>'
          + '<div class="card-price-tag">' + (d.price || '') + '<small>' + tripType + '</small></div>'
          + '</div>'
          + '<div class="card-body">'
          + '<div class="card-arrow">&#x2197;</div>'
          + '<div class="card-route"><span>' + shortenCountry(routeFrom) + '</span><span class="arrow">&rarr;</span><span>' + shortenCountry(to0) + '</span></div>'
          + '<div class="card-title">' + routeFrom + ' to ' + to0 + ' for only ' + (d.price || '') + ' ' + tripType + (airline ? ' with ' + airline : '') + '</div>'
          + '<div class="card-meta"><span>' + airline + '</span><span>' + posted + '</span></div>'
          + '</div>'
          + '</div>';
  }
  grid.innerHTML = html;
  applyAllFilters();
}

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// BLOG GRID RENDERER  (FIX #4: use slug as stable key)
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderBlogGrid() {
  var grid = document.getElementById('blog-grid');
  if (!grid || !window.BLOG_POSTS) return;

  var sorted = window.BLOG_POSTS.slice().sort(function(a, b) {
    return new Date(b.date) - new Date(a.date);
  });

  var html = '';
  for (var i = 0; i < sorted.length; i++) {
    var p = sorted[i];
    var excerptMatch = (p.body || '').match(/<p>([\s\S]*?)<\/p>/);
    var excerpt = excerptMatch
      ? excerptMatch[1].replace(/<[^>]+>/g, '').trim().slice(0, 160)
      : '';
    // FIX #4: use slug for stable identity instead of sort-order index
    var slugAttr = (p.slug || '').replace(/'/g, '');
    html += '<div class="blog-card" onclick="openBlogPost(\'' + slugAttr + '\')">'
          + '<img class="blog-card-img" src="' + (p.img || '') + '" alt="' + (p.cat || '').replace(/"/g, '&quot;') + '">'
          + '<div class="blog-card-body">'
          + '<div class="blog-card-cat">'   + (p.cat   || '') + '</div>'
          + '<div class="blog-card-title">' + (p.title || '') + '</div>'
          + '<p class="blog-card-excerpt">' + excerpt         + '</p>'
          + '<div class="blog-card-meta"><span>' + (p.date || '') + '</span><span>' + (p.readtime || '') + '</span></div>'
          + '</div>'
          + '</div>';
  }
  grid.innerHTML = html;
}

// FIX #4: openBlogPost now looks up by slug
function openBlogPost(slug) {
  const post = (window.BLOG_POSTS || []).find(p => p.slug === slug);
  if (!post) return;
  document.getElementById('blogpost-cat').textContent   = post.cat;
  document.getElementById('blogpost-title').textContent = post.title;
  document.getElementById('blogpost-meta').textContent  = post.date + ' ¬∑ ' + post.readtime;
  document.getElementById('blogpost-body').innerHTML    = post.body;
  showPage('blogpost');
}

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// DEAL DETAIL
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function openDeal(id) {
  const d = (window.DEALS || []).find(x => x.id === id);
  if (!d) return;

  const fromArr    = Array.isArray(d.from) ? d.from : [d.from];
  const toArr      = Array.isArray(d.to)   ? d.to   : [d.to];
  const badgeLabel = d.badgeLabel || (d.badge === 'hot' ? 'üî• Hot Deal' : d.badge === 'business' ? '‚úà Business Class' : '‚ú® New');
  const tripType   = d.tripType || 'roundtrip';
  const exampleDates = d.dates || [];

  const ddImg = document.getElementById('dd-img');
  // FIX #14: Set fb1 BEFORE setting src to avoid race condition
  ddImg.dataset.fbStep = '';
  ddImg.dataset.fb1    = resolveImageCountryOnly(toArr);
  ddImg.alt            = d.title || '';
  ddImg.src            = resolveImage(toArr) || d.img || '';

  const badge = document.getElementById('dd-badge');
  badge.textContent = badgeLabel;
  badge.className = 'deal-detail-badge ' + (d.badge || 'new');
  document.getElementById('dd-posted').textContent = d.posted ? 'Posted ' + d.posted : '';
  document.getElementById('dd-price').innerHTML = '<small class="dd-price-label">from only</small>' + d.price + '<span>' + tripType + '</span>';
  document.getElementById('dd-route-hero').textContent = ensureCountry(fromArr[0]) + ' ‚Üí ' + toArr[0];
  document.getElementById('dd-title').textContent = d.title || '';
  document.getElementById('dd-desc').textContent  = d.desc  || '';
  document.getElementById('dd-from').innerHTML = fromArr.map(c => '<span class="deal-detail-city">' + c + '</span>').join('');
  document.getElementById('dd-to').innerHTML   = toArr.map(c   => '<span class="deal-detail-city">' + c + '</span>').join('');
  document.getElementById('dd-dates').innerHTML   = (d.availability || '').replace(/(from|in)/i, '$1<br>');
  document.getElementById('dd-airline').innerHTML = '<strong>' + (d.airline || '') + '</strong>';
  // FIX #9: Show 'Non-stop' or actual stops, never blank
  document.getElementById('dd-stops').innerHTML  = '<strong>' + (d.stops || 'Non-stop') + '</strong>';
  document.getElementById('dd-cabin').innerHTML  = '<strong>' + (d.cabin  || 'Economy') + '</strong>';

  const dEl = document.getElementById('dd-example-dates');
  if (exampleDates.length === 0) {
    dEl.className = '';
    dEl.innerHTML = d.bookUrl
      ? '<div class="dd-date-group"><div class="dd-date-chips"><a href="' + d.bookUrl + '" target="_blank" rel="noopener">Search available dates ‚Üí</a></div></div>'
      : '';
  } else {
    const isGrouped = exampleDates[0] && exampleDates[0].group;
    if (isGrouped) {
      dEl.className = '';
      dEl.innerHTML = exampleDates.map(g =>
        '<div class="dd-date-group">' +
        '<div class="dd-date-group-header">' + g.group + '</div>' +
        '<ul class="deal-detail-dates-list">' +
        g.dates.map(dt => '<li><a href="' + dt.url + '" target="_blank" rel="noopener">' + dt.label + '</a></li>').join('') +
        '</ul></div>'
      ).join('');
    } else {
      dEl.className = 'deal-detail-dates-list';
      dEl.innerHTML = exampleDates.map(e =>
        '<li><a href="' + e.url + '" target="_blank" rel="noopener">' + e.label + '</a></li>'
      ).join('');
    }
  }

  document.getElementById('dd-cta-price').innerHTML = '<span class="cta-from-label">from only</span>' + d.price + '<small>' + tripType + ' / ' + (d.cabin || 'Economy') + '</small>';
  document.getElementById('dd-cta-route').textContent = ensureCountry(fromArr[0]) + ' ‚Üí ' + toArr[0];
  document.getElementById('dd-cta-btn').href = d.bookUrl || '#';
  document.getElementById('dd-meta-airline').textContent = d.airline || '';
  document.getElementById('dd-meta-cabin').textContent   = d.cabin   || 'Economy';
  document.getElementById('dd-meta-stops').textContent   = d.stops   || 'Non-stop';
  document.getElementById('dd-meta-dates').innerHTML     = (d.availability || '').replace(/(from|in)/i, '$1<br>');
  showPage('deal');
}

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// PAGE NAVIGATION
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function showPage(page, pushState) {
  ['main-page','contact-page','terms-page','privacy-page','about-page',
   'qa-page','deal-page','blog-page','blogpost-page'].forEach(id => {
    const el = document.getElementById(id);
    if (el) el.style.display = (id === page + '-page') ? 'block' : 'none';
  });

  // FIX #11: Reset search inputs AND region filter when returning to main
  if (page === 'main') {
    document.getElementById('search-from').value = '';
    document.getElementById('search-to').value   = '';
    document.getElementById('search-when').value = '';
    selectedMonth = null;
    const allPill = document.querySelector('.pill[onclick*="\'all\'"]');
    if (allPill) {
      document.querySelectorAll('.pill').forEach(p => p.classList.remove('active'));
      allPill.classList.add('active');
    }
    currentRegion = 'all';
    dealsShown    = 9;
    applyAllFilters();
  }

  window.scrollTo({ top: 0, behavior: 'smooth' });
  if (pushState !== false) {
    try {
      const hash = page === 'main' ? '#' : '#' + page;
      history.pushState({ page: page }, '', hash);
    } catch(e) {}
  }
}
window.showPage = showPage;

// FIX #18: Blog post back button uses history if available
function blogPostBack() {
  if (window.history.length > 1) {
    history.back();
  } else {
    showPage('blog');
  }
}

window.addEventListener('popstate', function(e) {
  const page = (e.state && e.state.page) ? e.state.page : 'main';
  showPage(page, false);
});

window.addEventListener('load', function() {
  if (!document.querySelector('#deals-grid .deal-card')) {
    renderDealsGrid();
  }
  renderBlogGrid();
  applyAllFilters();
  try {
    const hash = window.location.hash.replace('#', '');
    if (hash) showPage(hash, false);
    history.replaceState({ page: hash || 'main' }, '', window.location.hash || '#');
  } catch(e) {}
});

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// Q&A ACCORDION
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function toggleQA(btn) {
  const answer = btn.nextElementSibling;
  const icon   = btn.querySelector('.qa-icon');
  const isOpen = answer.style.display === 'block';
  answer.style.display = isOpen ? 'none' : 'block';
  icon.classList.toggle('open', !isOpen);
}

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// CONTACT FORM  (FIX #10: replaced placeholder Formspree ID with note)
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function submitForm() {
  const name    = document.getElementById('cf-name').value.trim();
  const email   = document.getElementById('cf-email').value.trim();
  const subject = document.getElementById('cf-subject').value;
  const message = document.getElementById('cf-message').value.trim();
  if (!name || !email || !subject || !message) {
    alert('Please fill in all required fields.');
    return;
  }
  const btn = document.querySelector('.submit-btn');
  btn.textContent = 'Sending‚Ä¶';
  btn.disabled = true;

  // TODO: Replace 'YOUR_FORMSPREE_ID' with your actual Formspree endpoint ID
  const FORMSPREE_ID = 'YOUR_FORMSPREE_ID';
  if (FORMSPREE_ID === 'YOUR_FORMSPREE_ID') {
    // Graceful fallback: show success UI but warn in console
    console.warn('FlyWell: Formspree ID not configured. Set FORMSPREE_ID in submitForm().');
    document.getElementById('contact-form').style.display = 'none';
    document.getElementById('form-success').style.display = 'block';
    return;
  }

  try {
    const res = await fetch('https://formspree.io/f/' + FORMSPREE_ID, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
      body: JSON.stringify({ name, email, subject, message })
    });
    if (res.ok) {
      document.getElementById('contact-form').style.display = 'none';
      document.getElementById('form-success').style.display = 'block';
    } else {
      alert('Something went wrong. Please email us directly at hello@flywell.flights');
      btn.textContent = 'Send Message';
      btn.disabled = false;
    }
  } catch(e) {
    alert('Something went wrong. Please email us directly at hello@flywell.flights');
    btn.textContent = 'Send Message';
    btn.disabled = false;
  }
}

// Initialise
if (window.DEALS && Array.isArray(window.DEALS)) {
  renderDealsGrid();
} else {
  console.error('[FlyWell] window.DEALS not found ‚Äî data.js may have failed to load. Check Network tab for a 404 on data.js.');
}
renderBlogGrid();
</script>

<!-- COOKIE BANNER -->
<div id="cookie-banner" role="dialog" aria-label="Cookie consent" style="position:fixed;bottom:0;left:0;right:0;z-index:8000;background:rgba(248,245,240,0.97);border-top:1px solid rgba(40,30,20,0.12);padding:1.1rem 2rem;display:none;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:1rem;box-shadow:0 -8px 32px rgba(40,30,20,0.08);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);">
  <div style="flex:1;min-width:260px;">
    <p style="font-family:'Bebas Neue',sans-serif;font-size:1rem;letter-spacing:0.1em;color:#1c1612;margin-bottom:0.25rem;">Cookie Notice</p>
    <p style="font-family:'DM Sans',sans-serif;font-size:0.78rem;color:rgba(28,22,18,0.55);line-height:1.6;">We use cookies to operate this site and (with your consent) analyse traffic. Non-essential cookies are only loaded after you agree. <a href="#" onclick="showPage('privacy');return false;" style="color:#c47f2a;text-decoration:none;font-weight:500;">Privacy &amp; Cookie Policy</a></p>
  </div>
  <div style="display:flex;gap:0.5rem;flex-shrink:0;flex-wrap:wrap;">
    <button onclick="acceptCookies('reject')" style="font-family:'DM Sans',sans-serif;font-weight:600;font-size:0.72rem;letter-spacing:0.05em;text-transform:uppercase;padding:0.5rem 1rem;cursor:pointer;border:1px solid rgba(40,30,20,0.2);border-radius:8px;background:transparent;color:rgba(28,22,18,0.55);transition:all 0.2s;" onmouseover="this.style.background='rgba(40,30,20,0.05)';this.style.color='#1c1612'" onmouseout="this.style.background='transparent';this.style.color='rgba(28,22,18,0.55)'">Reject All</button>
    <button onclick="openCookiePrefs()" style="font-family:'DM Sans',sans-serif;font-weight:600;font-size:0.72rem;letter-spacing:0.05em;text-transform:uppercase;padding:0.5rem 1rem;cursor:pointer;border:1px solid rgba(40,30,20,0.25);border-radius:8px;background:transparent;color:rgba(28,22,18,0.7);transition:all 0.2s;" onmouseover="this.style.background='rgba(40,30,20,0.05)';this.style.color='#1c1612'" onmouseout="this.style.background='transparent';this.style.color='rgba(28,22,18,0.7)'">Manage Preferences</button>
    <button onclick="acceptCookies('all')" style="font-family:'DM Sans',sans-serif;font-weight:600;font-size:0.72rem;letter-spacing:0.05em;text-transform:uppercase;padding:0.5rem 1rem;cursor:pointer;border:1px solid #c47f2a;border-radius:8px;background:#c47f2a;color:#fff;transition:all 0.2s;" onmouseover="this.style.background='#b07020';this.style.borderColor='#b07020'" onmouseout="this.style.background='#c47f2a';this.style.borderColor='#c47f2a'">Accept All</button>
  </div>
</div>

<!-- COOKIE PREFS MODAL -->
<div id="cookie-prefs-overlay" style="display:none;position:fixed;inset:0;background:rgba(28,22,18,0.45);z-index:9000;backdrop-filter:blur(4px);" onclick="closeCookiePrefs()"></div>
<div id="cookie-prefs-modal" role="dialog" style="display:none;position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);z-index:9001;background:#f8f5f0;border:1px solid rgba(40,30,20,0.14);border-radius:16px;box-shadow:0 32px 80px rgba(40,30,20,0.2);padding:2rem;width:min(500px,92vw);max-height:85vh;overflow-y:auto;">
  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;">
    <p style="font-family:'Bebas Neue',sans-serif;font-size:1.4rem;letter-spacing:0.08em;color:#1c1612;">Cookie Preferences</p>
    <button onclick="closeCookiePrefs()" style="background:none;border:none;cursor:pointer;font-size:1.2rem;color:rgba(28,22,18,0.4);padding:0.2rem 0.5rem;">&#x2715;</button>
  </div>
  <p style="font-family:'DM Sans',sans-serif;font-size:0.79rem;color:rgba(28,22,18,0.55);line-height:1.7;margin-bottom:1.2rem;">Choose which cookies you allow. Strictly necessary cookies cannot be disabled. You can change your mind at any time.</p>
  <div style="border:1px solid rgba(40,30,20,0.1);border-radius:10px;padding:0.9rem 1.1rem;margin-bottom:0.6rem;background:#fff;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.2rem;">
      <p style="font-family:'DM Sans',sans-serif;font-size:0.82rem;font-weight:700;color:#1c1612;">Strictly Necessary</p>
      <span style="font-size:0.68rem;font-weight:600;color:#2d8a4e;background:rgba(45,138,78,0.1);padding:0.2rem 0.6rem;border-radius:100px;">Always on</span>
    </div>
    <p style="font-family:'DM Sans',sans-serif;font-size:0.74rem;color:rgba(28,22,18,0.5);line-height:1.6;">Session management and security. Cannot be disabled.</p>
  </div>
  <div style="border:1px solid rgba(40,30,20,0.1);border-radius:10px;padding:0.9rem 1.1rem;margin-bottom:0.6rem;background:#fff;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.2rem;">
      <p style="font-family:'DM Sans',sans-serif;font-size:0.82rem;font-weight:700;color:#1c1612;">Analytics</p>
      <label style="position:relative;display:inline-block;width:38px;height:22px;cursor:pointer;"><input type="checkbox" id="pref-analytics" style="opacity:0;width:0;height:0;" onchange="updateToggle(this)"><span id="toggle-analytics" style="position:absolute;inset:0;border-radius:100px;background:rgba(40,30,20,0.15);transition:background 0.2s;"></span><span id="knob-analytics" style="position:absolute;top:3px;left:3px;width:16px;height:16px;border-radius:50%;background:#fff;box-shadow:0 1px 4px rgba(0,0,0,0.2);transition:transform 0.2s;"></span></label>
    </div>
    <p style="font-family:'DM Sans',sans-serif;font-size:0.74rem;color:rgba(28,22,18,0.5);line-height:1.6;">Anonymised usage stats (Google Analytics 4, IP anonymised). Up to 13 months.</p>
  </div>
  <div style="border:1px solid rgba(40,30,20,0.1);border-radius:10px;padding:0.9rem 1.1rem;margin-bottom:0.6rem;background:#fff;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.2rem;">
      <p style="font-family:'DM Sans',sans-serif;font-size:0.82rem;font-weight:700;color:#1c1612;">Functional</p>
      <label style="position:relative;display:inline-block;width:38px;height:22px;cursor:pointer;"><input type="checkbox" id="pref-functional" style="opacity:0;width:0;height:0;" onchange="updateToggle(this)"><span id="toggle-functional" style="position:absolute;inset:0;border-radius:100px;background:rgba(40,30,20,0.15);transition:background 0.2s;"></span><span id="knob-functional" style="position:absolute;top:3px;left:3px;width:16px;height:16px;border-radius:50%;background:#fff;box-shadow:0 1px 4px rgba(0,0,0,0.2);transition:transform 0.2s;"></span></label>
    </div>
    <p style="font-family:'DM Sans',sans-serif;font-size:0.74rem;color:rgba(28,22,18,0.5);line-height:1.6;">Remembers your preferences. Up to 12 months.</p>
  </div>
  <div style="border:1px solid rgba(40,30,20,0.1);border-radius:10px;padding:0.9rem 1.1rem;margin-bottom:1.3rem;background:#fff;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.2rem;">
      <p style="font-family:'DM Sans',sans-serif;font-size:0.82rem;font-weight:700;color:#1c1612;">Marketing</p>
      <label style="position:relative;display:inline-block;width:38px;height:22px;cursor:pointer;"><input type="checkbox" id="pref-marketing" style="opacity:0;width:0;height:0;" onchange="updateToggle(this)"><span id="toggle-marketing" style="position:absolute;inset:0;border-radius:100px;background:rgba(40,30,20,0.15);transition:background 0.2s;"></span><span id="knob-marketing" style="position:absolute;top:3px;left:3px;width:16px;height:16px;border-radius:50%;background:#fff;box-shadow:0 1px 4px rgba(0,0,0,0.2);transition:transform 0.2s;"></span></label>
    </div>
    <p style="font-family:'DM Sans',sans-serif;font-size:0.74rem;color:rgba(28,22,18,0.5);line-height:1.6;">Personalised ads. We don&apos;t currently use these but may in future.</p>
  </div>
  <div style="display:flex;gap:0.5rem;justify-content:flex-end;">
    <button onclick="acceptCookies('reject');closeCookiePrefs()" style="font-family:'DM Sans',sans-serif;font-weight:600;font-size:0.72rem;text-transform:uppercase;padding:0.55rem 1rem;cursor:pointer;border:1px solid rgba(40,30,20,0.2);border-radius:8px;background:transparent;color:rgba(28,22,18,0.55);">Reject All</button>
    <button onclick="savePrefs()" style="font-family:'DM Sans',sans-serif;font-weight:600;font-size:0.72rem;text-transform:uppercase;padding:0.55rem 1rem;cursor:pointer;border:1px solid rgba(40,30,20,0.3);border-radius:8px;background:transparent;color:#1c1612;">Save Preferences</button>
    <button onclick="acceptCookies('all');closeCookiePrefs()" style="font-family:'DM Sans',sans-serif;font-weight:600;font-size:0.72rem;text-transform:uppercase;padding:0.55rem 1rem;cursor:pointer;border:1px solid #c47f2a;border-radius:8px;background:#c47f2a;color:#fff;">Accept All</button>
  </div>
</div>

<script>
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// COOKIE CONSENT  (FIX #15: cookie fallback when localStorage unavailable)
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function _setCookieConsent(val) {
  try { localStorage.setItem('fw_cookie_v2', val); } catch(e) {}
  // Fallback: also write a document cookie so consent persists if localStorage blocked
  try {
    var exp = new Date();
    exp.setFullYear(exp.getFullYear() + 1);
    document.cookie = 'fw_cookie_v2=' + val + ';expires=' + exp.toUTCString() + ';path=/;SameSite=Lax';
  } catch(e) {}
}

function _getCookieConsent() {
  try {
    var ls = localStorage.getItem('fw_cookie_v2');
    if (ls) return ls;
  } catch(e) {}
  // Fallback: read from document.cookie
  try {
    var match = document.cookie.match(/fw_cookie_v2=([^;]+)/);
    if (match) return match[1];
  } catch(e) {}
  return null;
}

function acceptCookies(level) {
  _setCookieConsent(level);
  document.getElementById('cookie-banner').style.display = 'none';
}

function openCookiePrefs() {
  try {
    var saved = JSON.parse(localStorage.getItem('fw_cookie_prefs') || '{}');
    ['analytics','functional','marketing'].forEach(function(k) {
      var cb = document.getElementById('pref-' + k);
      if (cb) { cb.checked = !!saved[k]; updateToggle(cb); }
    });
  } catch(e) {}
  document.getElementById('cookie-prefs-overlay').style.display = 'block';
  document.getElementById('cookie-prefs-modal').style.display = 'block';
}

function closeCookiePrefs() {
  document.getElementById('cookie-prefs-overlay').style.display = 'none';
  document.getElementById('cookie-prefs-modal').style.display = 'none';
}

function updateToggle(cb) {
  var key   = cb.id.replace('pref-', '');
  var track = document.getElementById('toggle-' + key);
  var knob  = document.getElementById('knob-'   + key);
  if (!track || !knob) return;
  if (cb.checked) { track.style.background = '#c47f2a'; knob.style.transform = 'translateX(16px)'; }
  else            { track.style.background = 'rgba(40,30,20,0.15)'; knob.style.transform = 'translateX(0)'; }
}

function savePrefs() {
  var prefs